---
source: src/main.rs
expression: parsed
input_file: test-data/lua5.3-tests/errors.lua
---
[
    Ident(
        [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"testing errors\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Variable {
        names: [
            (
                "debug",
                false,
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "require",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"debug\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Variable {
        names: [
            (
                "mt",
                false,
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "getmetatable",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "_G",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Operator(
                    (
                        "or",
                        true,
                    ),
                ),
                Table(
                    [],
                ),
            ],
        ],
    },
    Variable {
        names: [
            (
                "oldmm",
                false,
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "mt",
                        ),
                        Symbol(
                            ".",
                        ),
                        Symbol(
                            "__index",
                        ),
                    ],
                ),
            ],
        ],
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "mt",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "__index",
                    ),
                ],
            ),
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
    },
    Function {
        local: true,
        name: [
            Symbol(
                "checkerr",
            ),
        ],
        args: [
            "msg",
            "f",
            "...",
        ],
        body: CodeBlock {
            start: 40,
            code: [
                Variable {
                    names: [
                        (
                            "st",
                            false,
                        ),
                        (
                            "err",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "f",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "...",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "st",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "err",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 66,
        },
    },
    Function {
        local: true,
        name: [
            Symbol(
                "doit",
            ),
        ],
        args: [
            "s",
        ],
        body: CodeBlock {
            start: 72,
            code: [
                Variable {
                    names: [
                        (
                            "f",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "load",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "s",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                IfStatement {
                    condition: [
                        Ident(
                            [
                                Symbol(
                                    "f",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                    body: CodeBlock {
                        start: 14,
                        code: [
                            Return(
                                Some(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "msg",
                                                    ),
                                                ],
                                            ),
                                        ],
                                    ],
                                ),
                            ),
                        ],
                        end: 17,
                    },
                    next: None,
                },
                Variable {
                    names: [
                        (
                            "cond",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "f",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Return(
                    Some(
                        [
                            [
                                Expr(
                                    [
                                        Operator(
                                            (
                                                "not",
                                                false,
                                            ),
                                        ),
                                        Ident(
                                            [
                                                Symbol(
                                                    "cond",
                                                ),
                                            ],
                                        ),
                                    ],
                                ),
                                Ident(
                                    [],
                                ),
                                Operator(
                                    (
                                        "and",
                                        true,
                                    ),
                                ),
                                Ident(
                                    [
                                        Symbol(
                                            "msg",
                                        ),
                                    ],
                                ),
                            ],
                        ],
                    ),
                ),
            ],
            end: 106,
        },
    },
    Function {
        local: true,
        name: [
            Symbol(
                "checkmessage",
            ),
        ],
        args: [
            "prog",
            "msg",
        ],
        body: CodeBlock {
            start: 114,
            code: [
                Variable {
                    names: [
                        (
                            "m",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "doit",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "prog",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "m",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "1",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "true",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 137,
        },
    },
    Function {
        local: true,
        name: [
            Symbol(
                "checksyntax",
            ),
        ],
        args: [
            "prog",
            "extra",
            "token",
            "line",
        ],
        body: CodeBlock {
            start: 149,
            code: [
                Variable {
                    names: [
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "doit",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "prog",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                IfStatement {
                    condition: [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "token",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"^<%a\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "token",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"^char%(\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                    body: CodeBlock {
                        start: 28,
                        code: [
                            Alter {
                                names: [
                                    Ident(
                                        [
                                            Symbol(
                                                "token",
                                            ),
                                        ],
                                    ),
                                ],
                                values: [
                                    [
                                        Symbol(
                                            "\"'\"",
                                        ),
                                        Operator(
                                            (
                                                "..",
                                                true,
                                            ),
                                        ),
                                        Ident(
                                            [
                                                Symbol(
                                                    "token",
                                                ),
                                            ],
                                        ),
                                        Operator(
                                            (
                                                "..",
                                                true,
                                            ),
                                        ),
                                        Symbol(
                                            "\"'\"",
                                        ),
                                    ],
                                ],
                            },
                        ],
                        end: 36,
                    },
                    next: None,
                },
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "token",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "gsub",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "token",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"(%p)\"",
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"%%%1\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "pt",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "format",
                                    ),
                                    Call(
                                        [
                                            [
                                                MultilineString(
                                                    "[[^%%[string \".*\"%%]:%d: .- near %s$]]",
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "line",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "token",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "pt",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "1",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "true",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 237,
        },
    },
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"error('hi', 0)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "'hi'",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"error()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"table.unpack({}, 1, n=2^30)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"a=math.sin()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"tostring(1)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"tostring()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"tonumber()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"repeat until 1; a\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"return;;\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"assert(false)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"assert(nil)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"function a (... , ...) end\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"function a (, ...) end\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"local t={}; t = t[#t] + 1\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\n  local a = {4\n\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'}' expected (to close '{' at line 1)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"<eof>\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = {} + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"arithmetic\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = {} | 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"bitwise operation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = {} < 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"attempt to compare\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = {} <= 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"attempt to compare\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=1; bbbb=2; a=math.sin(3)+bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a={}; do local a=1 end a:bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"method 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a={}; a.bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "doit",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Symbol(
                                                                    "\"a={13}; local bbbb=1; a[bbbb](3)\"",
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"'bbbb'\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a={13}; local bbbb=1; a[bbbb](3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"number\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=(1)..{}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a table value\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = #print\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"length of a function value\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = #3\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"length of a number value\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "aaa",
                    ),
                ],
            ),
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa.bbb:ddd(9)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local aaa={bbb=1}; aaa.bbb:ddd(9)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local aaa={bbb={}}; aaa.bbb:ddd(9)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"method 'ddd'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a,b,c; (function () a = b+1 end)()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"upvalue 'b'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"local aaa={bbb={ddd=next}}; aaa.bbb:ddd(nil)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a,b,cc; (function () a = cc[1] end)()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"upvalue 'cc'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a,b,cc; (function () a.x = 1 end)()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"upvalue 'a'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local _ENV = {x={}}; a = a + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'a'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"b=1; local aaa='a'; x=aaa+b\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa={}; x=3/aaa\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa='2'; b=nil;x=aaa*b\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'b'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa={}; x=-aaa\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=1; local a,bbbb=2,3; a = math.sin(1) and bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=1; local a,bbbb=2,3; a = bbbb(1) or a(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a,b,c,f = 1,1,1; f((a and b) or c)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local 'f'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a,b,c = 1,1,1; ((a and b) or c)()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"call a number value\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "doit",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Symbol(
                                                                    "\"aaa={}; x=(aaa or aaa)+(aaa and aaa)\"",
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"'aaa'\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "doit",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Symbol(
                                                                    "\"aaa={}; (aaa or aaa)()\"",
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"'aaa'\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"print(print < 10)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"function with number\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"print(print < print)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"two function values\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"print('10' < 10)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"string with number\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"print(10 < '23')\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"number with string\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = 2.0^100; x = a << 2\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local a\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = 1 >> 2.0^100\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = '10' << 2.0^100\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = 2.0^100 & 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = 2.0^100 & '1'\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = 2.0 | 1e40\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a = 2e100 ~ 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"string.sub('a', 2.0^100)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"string.rep('a', 3.3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"return 6e40 & 7\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"return 34 << 7e30\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"return ~-3e40\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"return ~-3.009\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"return 3.009 & 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"has no integer representation\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"return 34 >> {}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"table value\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = 24 // 0\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"divide by zero\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = 1 % 0\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'n%0'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "_G",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "D",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "debug",
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\n  -- create light udata\n  local x = D.upvalueid(function () return debug end, 1)\n  D.setuservalue(x, {})\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"light userdata\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "_G",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "D",
                    ),
                ],
            ),
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
    },
    DoBlock(
        CodeBlock {
            start: 685,
            code: [
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"math.sin(io.input())\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"(number expected, got FILE*)\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "_G",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "XX",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "setmetatable",
                                    ),
                                    Call(
                                        [
                                            [
                                                Table(
                                                    [],
                                                ),
                                            ],
                                            [
                                                Table(
                                                    [
                                                        (
                                                            Some(
                                                                [
                                                                    Symbol(
                                                                        "__name",
                                                                    ),
                                                                ],
                                                            ),
                                                            [
                                                                Symbol(
                                                                    "\"My Type\"",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "tostring",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Ident(
                                                                                [
                                                                                    Symbol(
                                                                                        "XX",
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "\"^My Type\"",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"io.input(XX)\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"(FILE* expected, got My Type)\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"return XX + 1\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"on a My Type value\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"return ~io.stdin\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"on a FILE* value\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"return XX < XX\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"two My Type values\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"return {} < XX\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"table with My Type\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"return XX < io.stdin\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"My Type with FILE*\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "_G",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "XX",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Symbol(
                                "nil",
                            ),
                        ],
                    ],
                },
            ],
            end: 762,
        },
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"(io.write or print){}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"io.write\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"(collectgarbage or print){}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"collectgarbage\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    DoBlock(
        CodeBlock {
            start: 775,
            code: [
                Variable {
                    names: [
                        (
                            "f",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Lambda {
                                args: [
                                    "a",
                                ],
                                body: CodeBlock {
                                    start: 7,
                                    code: [
                                        Return(
                                            Some(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "a",
                                                                ),
                                                            ],
                                                        ),
                                                        Operator(
                                                            (
                                                                "+",
                                                                true,
                                                            ),
                                                        ),
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "1",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ),
                                    ],
                                    end: 12,
                                },
                            },
                        ],
                    ],
                },
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "f",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "assert",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "load",
                                                        ),
                                                        Call(
                                                            [
                                                                [
                                                                    Ident(
                                                                        [
                                                                            Symbol(
                                                                                "string",
                                                                            ),
                                                                            Symbol(
                                                                                ".",
                                                                            ),
                                                                            Symbol(
                                                                                "dump",
                                                                            ),
                                                                            Call(
                                                                                [
                                                                                    [
                                                                                        Ident(
                                                                                            [
                                                                                                Symbol(
                                                                                                    "f",
                                                                                                ),
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                    [
                                                                                        Symbol(
                                                                                            "true",
                                                                                        ),
                                                                                    ],
                                                                                ],
                                                                            ),
                                                                        ],
                                                                    ),
                                                                ],
                                                            ],
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "f",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "3",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "4",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checkerr",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"^%?:%-1:\"",
                                    ),
                                ],
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "f",
                                            ),
                                        ],
                                    ),
                                ],
                                [
                                    Table(
                                        [],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "f",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Lambda {
                                args: [],
                                body: CodeBlock {
                                    start: 51,
                                    code: [
                                        Variable {
                                            names: [
                                                (
                                                    "a",
                                                    false,
                                                ),
                                            ],
                                            values: [],
                                        },
                                        Alter {
                                            names: [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "a",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            values: [
                                                [
                                                    Table(
                                                        [],
                                                    ),
                                                ],
                                            ],
                                        },
                                        Return(
                                            Some(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "a",
                                                                ),
                                                            ],
                                                        ),
                                                        Operator(
                                                            (
                                                                "+",
                                                                true,
                                                            ),
                                                        ),
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "2",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ),
                                    ],
                                    end: 64,
                                },
                            },
                        ],
                    ],
                },
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "f",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "assert",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "load",
                                                        ),
                                                        Call(
                                                            [
                                                                [
                                                                    Ident(
                                                                        [
                                                                            Symbol(
                                                                                "string",
                                                                            ),
                                                                            Symbol(
                                                                                ".",
                                                                            ),
                                                                            Symbol(
                                                                                "dump",
                                                                            ),
                                                                            Call(
                                                                                [
                                                                                    [
                                                                                        Ident(
                                                                                            [
                                                                                                Symbol(
                                                                                                    "f",
                                                                                                ),
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                    [
                                                                                        Symbol(
                                                                                            "true",
                                                                                        ),
                                                                                    ],
                                                                                ],
                                                                            ),
                                                                        ],
                                                                    ),
                                                                ],
                                                            ],
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "checkerr",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"^%?:%-1:.*table value\"",
                                    ),
                                ],
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "f",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 862,
        },
    ),
    Variable {
        names: [
            (
                "t",
                false,
            ),
        ],
        values: [
            [
                Table(
                    [],
                ),
            ],
        ],
    },
    ForLoop {
        iter: "i",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1000",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 874,
            code: [
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "t",
                                ),
                                Symbol(
                                    "[",
                                ),
                                Expr(
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "i",
                                                ),
                                            ],
                                        ),
                                    ],
                                ),
                                Symbol(
                                    "]",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Symbol(
                                "\"a = x\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "i",
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
            ],
            end: 883,
        },
    },
    Variable {
        names: [
            (
                "s",
                false,
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "table",
                        ),
                        Symbol(
                            ".",
                        ),
                        Symbol(
                            "concat",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "t",
                                            ),
                                        ],
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"; \"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "t",
                    ),
                ],
            ),
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; a = bbb + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local _ENV=_ENV;\"",
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; a = bbb + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; local t = {}; a = t.bbb + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; local t = {}; t:bbb()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"method 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[aaa=9\nrepeat until 3==3\nlocal x=math.sin(math.cos(3))\nif math.sin(1) == x then return math.sin(1) end   -- tail call\nlocal a,b = 1, {\n  {x='a'..'b'..'c', y='b', z=x},\n  {1,2,3,4,5} or 3+3<=3+3,\n  3+1>3+1,\n  {d = x and aaa[x or y]}}\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal x,y = {},1\nif math.sin(1) == 0 then return 3 end    -- return\nx.a()]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'a'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nprefix = nil\ninsert = nil\nwhile 1 do\n  local a\n  if nil then break end\n  insert(prefix, a)\nend]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'insert'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[  -- tail call\n  return math.sin(\"a\")\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'sin'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[collectgarbage(\"nooption\")]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"invalid option\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[x = print .. \"a\"]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"concatenate\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[x = \"a\" .. false]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"concatenate\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[x = {} .. 2]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"concatenate\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"getmetatable(io.stdin).__gc()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"no value\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal Var\nlocal function main()\n  NoSuchName (function() Var=0 end)\nend\nmain()\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'NoSuchName'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'+'",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "a",
                    ),
                ],
            ),
        ],
        values: [
            [
                Table(
                    [],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "setmetatable",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "a",
                                ),
                            ],
                        ),
                    ],
                    [
                        Table(
                            [
                                (
                                    Some(
                                        [
                                            Symbol(
                                                "__index",
                                            ),
                                        ],
                                    ),
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "string",
                                                ),
                                            ],
                                        ),
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a:sub()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"bad self\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"string.sub('a', {})\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"#2\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"('a'):sub{}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"#1\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"table.sort({1,2,3}, table.sort)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'table.sort'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"string.gsub('s', 's', setmetatable)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'setmetatable'\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Function {
        local: true,
        name: [
            Symbol(
                "f",
            ),
        ],
        args: [
            "n",
        ],
        body: CodeBlock {
            start: 1044,
            code: [
                Variable {
                    names: [
                        (
                            "c",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "coroutine",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "create",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "f",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "a",
                            false,
                        ),
                        (
                            "b",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "coroutine",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "resume",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "c",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Return(
                    Some(
                        [
                            [
                                Ident(
                                    [
                                        Symbol(
                                            "b",
                                        ),
                                    ],
                                ),
                            ],
                        ],
                    ),
                ),
            ],
            end: 1067,
        },
    },
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "f",
                                                    ),
                                                    Call(
                                                        [],
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"C stack overflow\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"coroutine.yield()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"outside a coroutine\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "f",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "coroutine",
                        ),
                        Symbol(
                            ".",
                        ),
                        Symbol(
                            "wrap",
                        ),
                        Call(
                            [
                                [
                                    Lambda {
                                        args: [],
                                        body: CodeBlock {
                                            start: 1095,
                                            code: [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "table",
                                                        ),
                                                        Symbol(
                                                            ".",
                                                        ),
                                                        Symbol(
                                                            "sort",
                                                        ),
                                                        Call(
                                                            [
                                                                [
                                                                    Table(
                                                                        [
                                                                            (
                                                                                None,
                                                                                [
                                                                                    Number(
                                                                                        Decimal(
                                                                                            Decimal {
                                                                                                before_decimal: "1",
                                                                                                after_decimal: "",
                                                                                            },
                                                                                        ),
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            (
                                                                                None,
                                                                                [
                                                                                    Number(
                                                                                        Decimal(
                                                                                            Decimal {
                                                                                                before_decimal: "2",
                                                                                                after_decimal: "",
                                                                                            },
                                                                                        ),
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            (
                                                                                None,
                                                                                [
                                                                                    Number(
                                                                                        Decimal(
                                                                                            Decimal {
                                                                                                before_decimal: "3",
                                                                                                after_decimal: "",
                                                                                            },
                                                                                        ),
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                        ],
                                                                    ),
                                                                ],
                                                                [
                                                                    Ident(
                                                                        [
                                                                            Symbol(
                                                                                "coroutine",
                                                                            ),
                                                                            Symbol(
                                                                                ".",
                                                                            ),
                                                                            Symbol(
                                                                                "yield",
                                                                            ),
                                                                        ],
                                                                    ),
                                                                ],
                                                            ],
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            end: 1112,
                                        },
                                    },
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "checkerr",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"yield across\"",
                        ),
                    ],
                    [
                        Ident(
                            [
                                Symbol(
                                    "f",
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "idsize",
                    ),
                ],
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "60",
                            after_decimal: "",
                        },
                    ),
                ),
                Operator(
                    (
                        "-",
                        true,
                    ),
                ),
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Function {
        local: true,
        name: [
            Symbol(
                "checksize",
            ),
        ],
        args: [
            "source",
        ],
        body: CodeBlock {
            start: 1130,
            code: [
                Variable {
                    names: [
                        (
                            "_",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "load",
                                    ),
                                    Call(
                                        [
                                            [
                                                Symbol(
                                                    "\"x\"",
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "source",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "match",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "msg",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"^([^:]*):\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                            Symbol(
                                                ":",
                                            ),
                                            Symbol(
                                                "len",
                                            ),
                                            Call(
                                                [],
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "<=",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "idsize",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 1162,
        },
    },
    ForLoop {
        iter: "i",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "60",
                        after_decimal: "",
                    },
                ),
            ),
            Operator(
                (
                    "-",
                    true,
                ),
            ),
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "10",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "60",
                        after_decimal: "",
                    },
                ),
            ),
            Operator(
                (
                    "+",
                    true,
                ),
            ),
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "10",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 1173,
            code: [
                Ident(
                    [
                        Symbol(
                            "checksize",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"@\"",
                                    ),
                                    Operator(
                                        (
                                            "..",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "rep",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"x\"",
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "i",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checksize",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "rep",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"x\"",
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "i",
                                                                ),
                                                            ],
                                                        ),
                                                        Operator(
                                                            (
                                                                "-",
                                                                true,
                                                            ),
                                                        ),
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "10",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "checksize",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"=\"",
                                    ),
                                    Operator(
                                        (
                                            "..",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "rep",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"x\"",
                                                        ),
                                                    ],
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "i",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 1213,
        },
    },
    Function {
        local: true,
        name: [
            Symbol(
                "lineerror",
            ),
        ],
        args: [
            "s",
            "l",
        ],
        body: CodeBlock {
            start: 1221,
            code: [
                Variable {
                    names: [
                        (
                            "err",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "load",
                                                        ),
                                                        Call(
                                                            [
                                                                [
                                                                    Ident(
                                                                        [
                                                                            Symbol(
                                                                                "s",
                                                                            ),
                                                                        ],
                                                                    ),
                                                                ],
                                                            ],
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "line",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "match",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "msg",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\":(%d+):\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Expr(
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "line",
                                                    ),
                                                ],
                                            ),
                                            Operator(
                                                (
                                                    "and",
                                                    true,
                                                ),
                                            ),
                                            Ident(
                                                [
                                                    Symbol(
                                                        "line",
                                                    ),
                                                ],
                                            ),
                                            Operator(
                                                (
                                                    "+",
                                                    true,
                                                ),
                                            ),
                                            Number(
                                                Decimal(
                                                    Decimal {
                                                        before_decimal: "0",
                                                        after_decimal: "",
                                                    },
                                                ),
                                            ),
                                        ],
                                    ),
                                    Ident(
                                        [],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "l",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 1257,
        },
    },
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a\\n for i=1,'a' do \\n print(i) \\n end\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\\n local a \\n for k,v in 3 \\n do \\n print(k) \\n end\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\\n\\n for k,v in \\n 3 \\n do \\n print(k) \\n end\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "4",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"function a.x.y ()\\na=a+1\\nend\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = \\na\\n+\\n{}\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = \\n3\\n+\\n(\\n4\\n/\\nprint)\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "6",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = \\nprint\\n+\\n(\\n4\\n/\\n7)\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a\\n=\\n-\\n\\nprint\\n;\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\na\n(\n23)\n]]",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal a = {x = 13}\na\n.\nx\n(\n23\n)\n]]",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal a = {x = 13}\na\n.\nx\n(\n23 + a\n)\n]]",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "6",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Variable {
        names: [
            (
                "p",
                false,
            ),
        ],
        values: [
            [
                MultilineString(
                    "[[\n  function g() f() end\n  function f(x) error('a', X) end\ng()\n]]",
                ),
            ],
        ],
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "X",
                    ),
                ],
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "3",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident(
                                    [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                ),
                            ],
                        ),
                        Ident(
                            [],
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "X",
                    ),
                ],
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "0",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident(
                                    [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                ),
                            ],
                        ),
                        Ident(
                            [],
                        ),
                    ],
                    [
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "X",
                    ),
                ],
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident(
                                    [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                ),
                            ],
                        ),
                        Ident(
                            [],
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "X",
                    ),
                ],
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "2",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident(
                                    [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                ),
                            ],
                        ),
                        Ident(
                            [],
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    IfStatement {
        condition: [
            Operator(
                (
                    "not",
                    false,
                ),
            ),
            Ident(
                [
                    Symbol(
                        "_soft",
                    ),
                ],
            ),
        ],
        body: CodeBlock {
            start: 1379,
            code: [
                Ident(
                    [
                        Symbol(
                            "collectgarbage",
                        ),
                        Call(
                            [],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"testing stack overflow\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "C",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "0",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "l",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "debug",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "getinfo",
                                    ),
                                    Call(
                                        [
                                            [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "1",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"l\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "currentline",
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Function {
                    local: false,
                    name: [
                        Symbol(
                            "y",
                        ),
                    ],
                    args: [],
                    body: CodeBlock {
                        start: 26,
                        code: [
                            Alter {
                                names: [
                                    Ident(
                                        [
                                            Symbol(
                                                "C",
                                            ),
                                        ],
                                    ),
                                ],
                                values: [
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "C",
                                                ),
                                            ],
                                        ),
                                        Operator(
                                            (
                                                "+",
                                                true,
                                            ),
                                        ),
                                        Number(
                                            Decimal(
                                                Decimal {
                                                    before_decimal: "1",
                                                    after_decimal: "",
                                                },
                                            ),
                                        ),
                                    ],
                                ],
                            },
                            Ident(
                                [
                                    Symbol(
                                        "y",
                                    ),
                                    Call(
                                        [],
                                    ),
                                ],
                            ),
                        ],
                        end: 36,
                    },
                },
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "checkstackmessage",
                        ),
                    ],
                    args: [
                        "m",
                    ],
                    body: CodeBlock {
                        start: 42,
                        code: [
                            Return(
                                Some(
                                    [
                                        [
                                            Expr(
                                                [
                                                    Ident(
                                                        [
                                                            Symbol(
                                                                "string",
                                                            ),
                                                            Symbol(
                                                                ".",
                                                            ),
                                                            Symbol(
                                                                "find",
                                                            ),
                                                            Call(
                                                                [
                                                                    [
                                                                        Ident(
                                                                            [
                                                                                Symbol(
                                                                                    "m",
                                                                                ),
                                                                            ],
                                                                        ),
                                                                    ],
                                                                    [
                                                                        Symbol(
                                                                            "\"^.-:%d+: stack overflow\"",
                                                                        ),
                                                                    ],
                                                                ],
                                                            ),
                                                        ],
                                                    ),
                                                ],
                                            ),
                                            Ident(
                                                [],
                                            ),
                                        ],
                                    ],
                                ),
                            ),
                        ],
                        end: 54,
                    },
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "checkstackmessage",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "doit",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Symbol(
                                                                                "'y()'",
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "checkstackmessage",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "doit",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Symbol(
                                                                                "'y()'",
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "checkstackmessage",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "doit",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Symbol(
                                                                                "'y()'",
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "C",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "0",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "l1",
                            false,
                        ),
                    ],
                    values: [],
                },
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "g",
                        ),
                    ],
                    args: [
                        "x",
                    ],
                    body: CodeBlock {
                        start: 107,
                        code: [
                            Alter {
                                names: [
                                    Ident(
                                        [
                                            Symbol(
                                                "l1",
                                            ),
                                        ],
                                    ),
                                ],
                                values: [
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "debug",
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "getinfo",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "x",
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                        [
                                                            Symbol(
                                                                "\"l\"",
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "currentline",
                                                ),
                                            ],
                                        ),
                                    ],
                                ],
                            },
                            Ident(
                                [
                                    Symbol(
                                        "y",
                                    ),
                                    Call(
                                        [],
                                    ),
                                ],
                            ),
                        ],
                        end: 124,
                    },
                },
                Variable {
                    names: [
                        (
                            "_",
                            false,
                        ),
                        (
                            "stackmsg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "g",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "debug",
                                                        ),
                                                        Symbol(
                                                            ".",
                                                        ),
                                                        Symbol(
                                                            "traceback",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "1",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Variable {
                    names: [
                        (
                            "stack",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Table(
                                [],
                            ),
                        ],
                    ],
                },
                ForFuncLoop {
                    iters: [
                        "line",
                    ],
                    expr: [
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "gmatch",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "stackmsg",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"[^\\n]*\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                    stop: None,
                    initial: None,
                    code: CodeBlock {
                        start: 160,
                        code: [
                            Variable {
                                names: [
                                    (
                                        "curr",
                                        false,
                                    ),
                                ],
                                values: [
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "string",
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "match",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "line",
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                        [
                                                            Symbol(
                                                                "\":(%d+):\"",
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                            ],
                                        ),
                                    ],
                                ],
                            },
                            IfStatement {
                                condition: [
                                    Ident(
                                        [
                                            Symbol(
                                                "curr",
                                            ),
                                        ],
                                    ),
                                ],
                                body: CodeBlock {
                                    start: 14,
                                    code: [
                                        Ident(
                                            [
                                                Symbol(
                                                    "table",
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "insert",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "stack",
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                        [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "tonumber",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "curr",
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                            ],
                                        ),
                                    ],
                                    end: 26,
                                },
                                next: None,
                            },
                        ],
                        end: 187,
                    },
                },
                Variable {
                    names: [
                        (
                            "i",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "1",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                },
                WhileLoop {
                    condition: [
                        Ident(
                            [
                                Symbol(
                                    "stack",
                                ),
                                Symbol(
                                    "[",
                                ),
                                Expr(
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "i",
                                                ),
                                            ],
                                        ),
                                    ],
                                ),
                                Symbol(
                                    "]",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "~=",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "l1",
                                ),
                            ],
                        ),
                    ],
                    body: CodeBlock {
                        start: 199,
                        code: [
                            Ident(
                                [
                                    Symbol(
                                        "assert",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "stack",
                                                        ),
                                                        Symbol(
                                                            "[",
                                                        ),
                                                        Expr(
                                                            [
                                                                Ident(
                                                                    [
                                                                        Symbol(
                                                                            "i",
                                                                        ),
                                                                    ],
                                                                ),
                                                            ],
                                                        ),
                                                        Symbol(
                                                            "]",
                                                        ),
                                                    ],
                                                ),
                                                Operator(
                                                    (
                                                        "==",
                                                        true,
                                                    ),
                                                ),
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "l",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                            Alter {
                                names: [
                                    Ident(
                                        [
                                            Symbol(
                                                "i",
                                            ),
                                        ],
                                    ),
                                ],
                                values: [
                                    [
                                        Ident(
                                            [
                                                Symbol(
                                                    "i",
                                                ),
                                            ],
                                        ),
                                        Operator(
                                            (
                                                "+",
                                                true,
                                            ),
                                        ),
                                        Number(
                                            Decimal(
                                                Decimal {
                                                    before_decimal: "1",
                                                    after_decimal: "",
                                                },
                                            ),
                                        ),
                                    ],
                                ],
                            },
                        ],
                        end: 214,
                    },
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "i",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            ">",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "15",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Variable {
                    names: [
                        (
                            "res",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "error",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "error",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "type",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Symbol(
                                        "'string'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "f",
                        ),
                    ],
                    args: [
                        "x",
                    ],
                    body: CodeBlock {
                        start: 253,
                        code: [
                            IfStatement {
                                condition: [
                                    Ident(
                                        [
                                            Symbol(
                                                "x",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "0",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                                body: CodeBlock {
                                    start: 5,
                                    code: [
                                        Ident(
                                            [
                                                Symbol(
                                                    "error",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Symbol(
                                                                "'a\\n'",
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                            ],
                                        ),
                                    ],
                                    end: 10,
                                },
                                next: Some(
                                    IfStatement {
                                        condition: [],
                                        body: CodeBlock {
                                            start: 10,
                                            code: [
                                                Variable {
                                                    names: [
                                                        (
                                                            "aux",
                                                            false,
                                                        ),
                                                    ],
                                                    values: [
                                                        [
                                                            Lambda {
                                                                args: [],
                                                                body: CodeBlock {
                                                                    start: 6,
                                                                    code: [
                                                                        Return(
                                                                            Some(
                                                                                [
                                                                                    [
                                                                                        Ident(
                                                                                            [
                                                                                                Symbol(
                                                                                                    "f",
                                                                                                ),
                                                                                                Call(
                                                                                                    [
                                                                                                        [
                                                                                                            Ident(
                                                                                                                [
                                                                                                                    Symbol(
                                                                                                                        "x",
                                                                                                                    ),
                                                                                                                ],
                                                                                                            ),
                                                                                                            Operator(
                                                                                                                (
                                                                                                                    "-",
                                                                                                                    true,
                                                                                                                ),
                                                                                                            ),
                                                                                                            Number(
                                                                                                                Decimal(
                                                                                                                    Decimal {
                                                                                                                        before_decimal: "1",
                                                                                                                        after_decimal: "",
                                                                                                                    },
                                                                                                                ),
                                                                                                            ),
                                                                                                        ],
                                                                                                    ],
                                                                                                ),
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                ],
                                                                            ),
                                                                        ),
                                                                    ],
                                                                    end: 14,
                                                                },
                                                            },
                                                        ],
                                                    ],
                                                },
                                                Variable {
                                                    names: [
                                                        (
                                                            "a",
                                                            false,
                                                        ),
                                                        (
                                                            "b",
                                                            false,
                                                        ),
                                                    ],
                                                    values: [
                                                        [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "xpcall",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "aux",
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "aux",
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    ],
                                                },
                                                Return(
                                                    Some(
                                                        [
                                                            [
                                                                Ident(
                                                                    [
                                                                        Symbol(
                                                                            "a",
                                                                        ),
                                                                    ],
                                                                ),
                                                            ],
                                                            [
                                                                Ident(
                                                                    [
                                                                        Symbol(
                                                                            "b",
                                                                        ),
                                                                    ],
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ),
                                            ],
                                            end: 40,
                                        },
                                        next: None,
                                    },
                                ),
                            },
                        ],
                        end: 294,
                    },
                },
                Ident(
                    [
                        Symbol(
                            "f",
                        ),
                        Call(
                            [
                                [
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "3",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "loop",
                        ),
                    ],
                    args: [
                        "x",
                        "y",
                        "z",
                    ],
                    body: CodeBlock {
                        start: 308,
                        code: [
                            Return(
                                Some(
                                    [
                                        [
                                            Number(
                                                Decimal(
                                                    Decimal {
                                                        before_decimal: "1",
                                                        after_decimal: "",
                                                    },
                                                ),
                                            ),
                                            Operator(
                                                (
                                                    "+",
                                                    true,
                                                ),
                                            ),
                                            Ident(
                                                [
                                                    Symbol(
                                                        "loop",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Ident(
                                                                    [
                                                                        Symbol(
                                                                            "x",
                                                                        ),
                                                                    ],
                                                                ),
                                                            ],
                                                            [
                                                                Ident(
                                                                    [
                                                                        Symbol(
                                                                            "y",
                                                                        ),
                                                                    ],
                                                                ),
                                                            ],
                                                            [
                                                                Ident(
                                                                    [
                                                                        Symbol(
                                                                            "z",
                                                                        ),
                                                                    ],
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                            ),
                                        ],
                                    ],
                                ),
                            ),
                        ],
                        end: 320,
                    },
                },
                Variable {
                    names: [
                        (
                            "res",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "loop",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Lambda {
                                                    args: [
                                                        "m",
                                                    ],
                                                    body: CodeBlock {
                                                        start: 333,
                                                        code: [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "assert",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "string",
                                                                                        ),
                                                                                        Symbol(
                                                                                            ".",
                                                                                        ),
                                                                                        Symbol(
                                                                                            "find",
                                                                                        ),
                                                                                        Call(
                                                                                            [
                                                                                                [
                                                                                                    Ident(
                                                                                                        [
                                                                                                            Symbol(
                                                                                                                "m",
                                                                                                            ),
                                                                                                        ],
                                                                                                    ),
                                                                                                ],
                                                                                                [
                                                                                                    Symbol(
                                                                                                        "\"stack overflow\"",
                                                                                                    ),
                                                                                                ],
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "checkerr",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Symbol(
                                                                                    "\"error handling\"",
                                                                                ),
                                                                            ],
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "loop",
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "assert",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "math",
                                                                                        ),
                                                                                        Symbol(
                                                                                            ".",
                                                                                        ),
                                                                                        Symbol(
                                                                                            "sin",
                                                                                        ),
                                                                                        Call(
                                                                                            [
                                                                                                [
                                                                                                    Number(
                                                                                                        Decimal(
                                                                                                            Decimal {
                                                                                                                before_decimal: "0",
                                                                                                                after_decimal: "",
                                                                                                            },
                                                                                                        ),
                                                                                                    ),
                                                                                                ],
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                                Operator(
                                                                                    (
                                                                                        "==",
                                                                                        true,
                                                                                    ),
                                                                                ),
                                                                                Number(
                                                                                    Decimal(
                                                                                        Decimal {
                                                                                            before_decimal: "0",
                                                                                            after_decimal: "",
                                                                                        },
                                                                                    ),
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                            Return(
                                                                Some(
                                                                    [
                                                                        [
                                                                            Number(
                                                                                Decimal(
                                                                                    Decimal {
                                                                                        before_decimal: "15",
                                                                                        after_decimal: "",
                                                                                    },
                                                                                ),
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ),
                                                        ],
                                                        end: 364,
                                                    },
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "15",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Variable {
                    names: [
                        (
                            "f",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Lambda {
                                args: [],
                                body: CodeBlock {
                                    start: 377,
                                    code: [
                                        ForLoop {
                                            iter: "i",
                                            start: [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "999900",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                            end: [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "1000000",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                            step: Some(
                                                [
                                                    Number(
                                                        Decimal(
                                                            Decimal {
                                                                before_decimal: "1",
                                                                after_decimal: "",
                                                            },
                                                        ),
                                                    ),
                                                ],
                                            ),
                                            code: CodeBlock {
                                                start: 9,
                                                code: [
                                                    Ident(
                                                        [
                                                            Symbol(
                                                                "table",
                                                            ),
                                                            Symbol(
                                                                ".",
                                                            ),
                                                            Symbol(
                                                                "unpack",
                                                            ),
                                                            Call(
                                                                [
                                                                    [
                                                                        Table(
                                                                            [],
                                                                        ),
                                                                    ],
                                                                    [
                                                                        Number(
                                                                            Decimal(
                                                                                Decimal {
                                                                                    before_decimal: "1",
                                                                                    after_decimal: "",
                                                                                },
                                                                            ),
                                                                        ),
                                                                    ],
                                                                    [
                                                                        Ident(
                                                                            [
                                                                                Symbol(
                                                                                    "i",
                                                                                ),
                                                                            ],
                                                                        ),
                                                                    ],
                                                                ],
                                                            ),
                                                        ],
                                                    ),
                                                ],
                                                end: 21,
                                            },
                                        },
                                    ],
                                    end: 399,
                                },
                            },
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "checkerr",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"too many results\"",
                                    ),
                                ],
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "f",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 1785,
        },
        next: None,
    },
    DoBlock(
        CodeBlock {
            start: 1786,
            code: [
                Variable {
                    names: [
                        (
                            "t",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Table(
                                [],
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "res",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Lambda {
                                                    args: [],
                                                    body: CodeBlock {
                                                        start: 15,
                                                        code: [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "error",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident(
                                                                                    [
                                                                                        Symbol(
                                                                                            "t",
                                                                                        ),
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                        end: 20,
                                                    },
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "t",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Lambda {
                                                    args: [],
                                                    body: CodeBlock {
                                                        start: 39,
                                                        code: [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "error",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Symbol(
                                                                                    "nil",
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                        end: 44,
                                                    },
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Symbol(
                                        "nil",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "f",
                        ),
                    ],
                    args: [],
                    body: CodeBlock {
                        start: 59,
                        code: [
                            Ident(
                                [
                                    Symbol(
                                        "error",
                                    ),
                                    Call(
                                        [
                                            [
                                                Table(
                                                    [
                                                        (
                                                            Some(
                                                                [
                                                                    Symbol(
                                                                        "msg",
                                                                    ),
                                                                ],
                                                            ),
                                                            [
                                                                Symbol(
                                                                    "'x'",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                        end: 66,
                    },
                },
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "f",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Lambda {
                                                    args: [
                                                        "r",
                                                    ],
                                                    body: CodeBlock {
                                                        start: 78,
                                                        code: [
                                                            Return(
                                                                Some(
                                                                    [
                                                                        [
                                                                            Table(
                                                                                [
                                                                                    (
                                                                                        Some(
                                                                                            [
                                                                                                Symbol(
                                                                                                    "msg",
                                                                                                ),
                                                                                            ],
                                                                                        ),
                                                                                        [
                                                                                            Ident(
                                                                                                [
                                                                                                    Symbol(
                                                                                                        "r",
                                                                                                    ),
                                                                                                    Symbol(
                                                                                                        ".",
                                                                                                    ),
                                                                                                    Symbol(
                                                                                                        "msg",
                                                                                                    ),
                                                                                                ],
                                                                                            ),
                                                                                            Operator(
                                                                                                (
                                                                                                    "..",
                                                                                                    true,
                                                                                                ),
                                                                                            ),
                                                                                            Symbol(
                                                                                                "'y'",
                                                                                            ),
                                                                                        ],
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ),
                                                        ],
                                                        end: 89,
                                                    },
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Symbol(
                                        "'xy'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "assert",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "false",
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"X\"",
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "t",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Symbol(
                                        "\"X\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Lambda {
                                                    args: [],
                                                    body: CodeBlock {
                                                        start: 130,
                                                        code: [
                                                            Ident(
                                                                [
                                                                    Symbol(
                                                                        "assert",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Symbol(
                                                                                    "false",
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                        end: 135,
                                                    },
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Variable {
                    names: [
                        (
                            "line",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "match",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "msg",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"%w+%.lua:(%d+): assertion failed!$\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "tonumber",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "line",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "debug",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "getinfo",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "1",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "\"l\"",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "currentline",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "-",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "2",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "assert",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "false",
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "t",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "t",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "assert",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "nil",
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "nil",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Symbol(
                                        "nil",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "res",
                                ),
                            ],
                        ),
                        Ident(
                            [
                                Symbol(
                                    "msg",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "assert",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                    ),
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "\"value expected\"",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 2018,
        },
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "a",
                    ),
                ],
            ),
            Ident(
                [
                    Symbol(
                        "b",
                    ),
                ],
            ),
            Ident(
                [
                    Symbol(
                        "c",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "xpcall",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                        ],
                                    ),
                                ],
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "error",
                                            ),
                                        ],
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"alo\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"al\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "a",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "b",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "c",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "a",
                    ),
                ],
            ),
            Ident(
                [
                    Symbol(
                        "b",
                    ),
                ],
            ),
            Ident(
                [
                    Symbol(
                        "c",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "xpcall",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                        ],
                                    ),
                                ],
                                [
                                    Lambda {
                                        args: [
                                            "x",
                                        ],
                                        body: CodeBlock {
                                            start: 2064,
                                            code: [
                                                Return(
                                                    Some(
                                                        [
                                                            [
                                                                Table(
                                                                    [],
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ),
                                            ],
                                            end: 2068,
                                        },
                                    },
                                ],
                                [
                                    Symbol(
                                        "true",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"al\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "a",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "type",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"table\"",
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "c",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"testing tokens in error messages\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"syntax error\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"error\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"1.000\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"1.000\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"[[a]]\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"[[a]]\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"'aa'\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'aa'\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"while << do end\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"<<\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"for >> do end\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\">>\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a\\1a = 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"<\\\\1>\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\\255a = 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"<\\\\255>\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "doit",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'I = load(\"a=9+\"); a=3'",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "a",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "I",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'+'",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "lim",
                    ),
                ],
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1000",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    IfStatement {
        condition: [
            Ident(
                [
                    Symbol(
                        "_soft",
                    ),
                ],
            ),
        ],
        body: CodeBlock {
            start: 2197,
            code: [
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "lim",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "100",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                },
            ],
            end: 2201,
        },
        next: None,
    },
    ForLoop {
        iter: "i",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident(
                [
                    Symbol(
                        "lim",
                    ),
                ],
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 2208,
            code: [
                Ident(
                    [
                        Symbol(
                            "doit",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'a = '",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Ident(
                    [
                        Symbol(
                            "doit",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'a = 4+nil'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 2217,
        },
    },
    Variable {
        names: [
            (
                "maxClevel",
                false,
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "200",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Function {
        local: true,
        name: [
            Symbol(
                "testrep",
            ),
        ],
        args: [
            "init",
            "rep",
            "close",
            "repc",
        ],
        body: CodeBlock {
            start: 2233,
            code: [
                Variable {
                    names: [
                        (
                            "s",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "init",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "rep",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "rep",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "maxClevel",
                                                        ),
                                                    ],
                                                ),
                                                Operator(
                                                    (
                                                        "-",
                                                        true,
                                                    ),
                                                ),
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "10",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "close",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "rep",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "repc",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "maxClevel",
                                                        ),
                                                    ],
                                                ),
                                                Operator(
                                                    (
                                                        "-",
                                                        true,
                                                    ),
                                                ),
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "10",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "load",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident(
                                                            [
                                                                Symbol(
                                                                    "s",
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "init",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "rep",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "rep",
                                                        ),
                                                    ],
                                                ),
                                            ],
                                            [
                                                Ident(
                                                    [
                                                        Symbol(
                                                            "maxClevel",
                                                        ),
                                                    ],
                                                ),
                                                Operator(
                                                    (
                                                        "+",
                                                        true,
                                                    ),
                                                ),
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "1",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Ident(
                    [
                        Symbol(
                            "checkmessage",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "s",
                                            ),
                                        ],
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"too many C levels\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
            end: 2289,
        },
    },
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; a\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\",a\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"= 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\",1\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"{\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"0\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"}\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"(\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"2\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\")\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; \"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a(\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"2\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\")\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"do \"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\" end\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"while a do \"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\" end\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; \"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"if a then else \"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\" end\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"function foo () \"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\" end\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a..\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a; a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a^\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Ident(
        [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = f(x\"",
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "rep",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\",x\"",
                                            ),
                                        ],
                                        [
                                            Number(
                                                Decimal(
                                                    Decimal {
                                                        before_decimal: "260",
                                                        after_decimal: "",
                                                    },
                                                ),
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\")\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"too many registers\"",
                        ),
                    ],
                ],
            ),
        ],
    ),
    Variable {
        names: [
            (
                "lim",
                false,
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "127",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    Variable {
        names: [
            (
                "s",
                false,
            ),
        ],
        values: [
            [
                Symbol(
                    "\"local function fooA ()\\n  local \"",
                ),
            ],
        ],
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident(
                [
                    Symbol(
                        "lim",
                    ),
                ],
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 2421,
            code: [
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"a\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\", \"",
                            ),
                        ],
                    ],
                },
            ],
            end: 2431,
        },
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "s",
                        ),
                    ],
                ),
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"b,c\\n\"",
                ),
            ],
        ],
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "s",
                        ),
                    ],
                ),
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"local function fooB ()\\n  local \"",
                ),
            ],
        ],
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident(
                [
                    Symbol(
                        "lim",
                    ),
                ],
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 2448,
            code: [
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"b\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\", \"",
                            ),
                        ],
                    ],
                },
            ],
            end: 2458,
        },
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "s",
                        ),
                    ],
                ),
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"b\\n\"",
                ),
            ],
        ],
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "s",
                        ),
                    ],
                ),
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"function fooC () return b+c\"",
                ),
            ],
        ],
    },
    Variable {
        names: [
            (
                "c",
                false,
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1",
                            after_decimal: "",
                        },
                    ),
                ),
                Operator(
                    (
                        "+",
                        true,
                    ),
                ),
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "2",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident(
                [
                    Symbol(
                        "lim",
                    ),
                ],
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 2481,
            code: [
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"+a\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"+b\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                            ),
                        ],
                    ],
                },
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "c",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "c",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "+",
                                    true,
                                ),
                            ),
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "2",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                },
            ],
            end: 2498,
        },
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "s",
                        ),
                    ],
                ),
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"\\nend  end end\"",
                ),
            ],
        ],
    },
    Variable {
        names: [
            (
                "a",
                false,
            ),
            (
                "b",
                false,
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "load",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "s",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "c",
                                ),
                            ],
                        ),
                        Operator(
                            (
                                ">",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "255",
                                    after_decimal: "",
                                },
                            ),
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"too many upvalues\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"line 5\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Symbol(
                    "\"\\nfunction foo ()\\n  local \"",
                ),
            ],
        ],
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "300",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 2546,
            code: [
                Alter {
                    names: [
                        Ident(
                            [
                                Symbol(
                                    "s",
                                ),
                            ],
                        ),
                    ],
                    values: [
                        [
                            Ident(
                                [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"a\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident(
                                [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\", \"",
                            ),
                        ],
                    ],
                },
            ],
            end: 2556,
        },
    },
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "s",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "s",
                        ),
                    ],
                ),
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"b\\n\"",
                ),
            ],
        ],
    },
    Variable {
        names: [
            (
                "a",
                false,
            ),
            (
                "b",
                false,
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "load",
                        ),
                        Call(
                            [
                                [
                                    Ident(
                                        [
                                            Symbol(
                                                "s",
                                            ),
                                        ],
                                    ),
                                ],
                            ],
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"line 2\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident(
                            [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident(
                                                [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        [
                                            Symbol(
                                                "\"too many local variables\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                        ),
                    ],
                ],
            ),
        ],
    ),
    Alter {
        names: [
            Ident(
                [
                    Symbol(
                        "mt",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "__index",
                    ),
                ],
            ),
        ],
        values: [
            [
                Ident(
                    [
                        Symbol(
                            "oldmm",
                        ),
                    ],
                ),
            ],
        ],
    },
    Ident(
        [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'OK'",
                        ),
                    ],
                ],
            ),
        ],
    ),
]
