---
source: src/main.rs
expression: parsed
input_file: test-data/lua5.2-tests/errors.lua
---
[
    Ident {
        expr: [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"testing errors\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 1,
    },
    Variable {
        names: [
            (
                "debug",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "require",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"debug\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 3,
                },
            ],
        ],
        line: 6,
        column: 0,
    },
    Variable {
        names: [
            (
                "mt",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "getmetatable",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "_G",
                                            ),
                                        ],
                                        line: 6,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 6,
                },
                Operator(
                    (
                        "or",
                        true,
                    ),
                ),
                Table {
                    data: [],
                    line: 6,
                    column: 10,
                },
            ],
        ],
        line: 7,
        column: 0,
    },
    Variable {
        names: [
            (
                "oldmm",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "mt",
                        ),
                        Symbol(
                            ".",
                        ),
                        Symbol(
                            "__index",
                        ),
                    ],
                    line: 7,
                },
            ],
        ],
        line: 7,
        column: 6,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "mt",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "__index",
                    ),
                ],
                line: 7,
            },
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
        line: 10,
        column: 0,
    },
    Function {
        local: false,
        name: [
            Symbol(
                "doit",
            ),
        ],
        args: [
            "s",
        ],
        body: CodeBlock {
            start: 35,
            code: [
                Variable {
                    names: [
                        (
                            "f",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "load",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "s",
                                                        ),
                                                    ],
                                                    line: 11,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 11,
                            },
                        ],
                    ],
                    line: 12,
                    column: 0,
                },
                IfStatement {
                    condition: [
                        Ident {
                            expr: [
                                Symbol(
                                    "f",
                                ),
                            ],
                            line: 12,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                    body: CodeBlock {
                        start: 14,
                        code: [
                            Return(
                                Some(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "msg",
                                                    ),
                                                ],
                                                line: 12,
                                            },
                                        ],
                                    ],
                                ),
                            ),
                        ],
                        end: 17,
                    },
                    next: None,
                    line: 12,
                    column: 8,
                },
                Variable {
                    names: [
                        (
                            "cond",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "f",
                                                        ),
                                                    ],
                                                    line: 13,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 13,
                            },
                        ],
                    ],
                    line: 14,
                    column: 0,
                },
                Return(
                    Some(
                        [
                            [
                                Expr(
                                    [
                                        Operator(
                                            (
                                                "not",
                                                false,
                                            ),
                                        ),
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "cond",
                                                ),
                                            ],
                                            line: 14,
                                        },
                                    ],
                                ),
                                Ident {
                                    expr: [],
                                    line: 14,
                                },
                                Operator(
                                    (
                                        "and",
                                        true,
                                    ),
                                ),
                                Ident {
                                    expr: [
                                        Symbol(
                                            "msg",
                                        ),
                                    ],
                                    line: 14,
                                },
                            ],
                        ],
                    ),
                ),
            ],
            end: 69,
        },
        line: 15,
        column: 1,
    },
    Function {
        local: false,
        name: [
            Symbol(
                "checkmessage",
            ),
        ],
        args: [
            "prog",
            "msg",
        ],
        body: CodeBlock {
            start: 76,
            code: [
                Variable {
                    names: [
                        (
                            "m",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "doit",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "prog",
                                                        ),
                                                    ],
                                                    line: 19,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 19,
                            },
                        ],
                    ],
                    line: 19,
                    column: 7,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "m",
                                                                ),
                                                            ],
                                                            line: 20,
                                                        },
                                                    ],
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                            line: 20,
                                                        },
                                                    ],
                                                    [
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "1",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "true",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 20,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 19,
                },
            ],
            end: 99,
        },
        line: 21,
        column: 1,
    },
    Function {
        local: false,
        name: [
            Symbol(
                "checksyntax",
            ),
        ],
        args: [
            "prog",
            "extra",
            "token",
            "line",
        ],
        body: CodeBlock {
            start: 110,
            code: [
                Variable {
                    names: [
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "doit",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "prog",
                                                        ),
                                                    ],
                                                    line: 24,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 24,
                            },
                        ],
                    ],
                    line: 25,
                    column: 0,
                },
                IfStatement {
                    condition: [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "token",
                                                    ),
                                                ],
                                                line: 25,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"^<%a\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 25,
                        },
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "token",
                                                    ),
                                                ],
                                                line: 25,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"^char%(\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 25,
                        },
                    ],
                    body: CodeBlock {
                        start: 28,
                        code: [
                            Alter {
                                names: [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "token",
                                            ),
                                        ],
                                        line: 26,
                                    },
                                ],
                                values: [
                                    [
                                        Symbol(
                                            "\"'\"",
                                        ),
                                        Operator(
                                            (
                                                "..",
                                                true,
                                            ),
                                        ),
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "token",
                                                ),
                                            ],
                                            line: 26,
                                        },
                                        Operator(
                                            (
                                                "..",
                                                true,
                                            ),
                                        ),
                                        Symbol(
                                            "\"'\"",
                                        ),
                                    ],
                                ],
                                line: 26,
                                column: 7,
                            },
                        ],
                        end: 36,
                    },
                    next: None,
                    line: 26,
                    column: 9,
                },
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "token",
                                ),
                            ],
                            line: 26,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "gsub",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "token",
                                                        ),
                                                    ],
                                                    line: 27,
                                                },
                                            ],
                                            [
                                                Symbol(
                                                    "\"(%p)\"",
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"%%%1\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                                line: 27,
                            },
                        ],
                    ],
                    line: 28,
                    column: 0,
                },
                Variable {
                    names: [
                        (
                            "pt",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "format",
                                    ),
                                    Call(
                                        [
                                            [
                                                MultilineString(
                                                    "[[^%%[string \".*\"%%]:%d: .- near %s$]]",
                                                ),
                                            ],
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "line",
                                                        ),
                                                    ],
                                                    line: 28,
                                                },
                                            ],
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "token",
                                                        ),
                                                    ],
                                                    line: 29,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 28,
                            },
                        ],
                    ],
                    line: 29,
                    column: 4,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                            line: 30,
                                                        },
                                                    ],
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "pt",
                                                                ),
                                                            ],
                                                            line: 30,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 30,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 29,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                            line: 31,
                                                        },
                                                    ],
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                            line: 31,
                                                        },
                                                    ],
                                                    [
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "1",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                    [
                                                        Symbol(
                                                            "true",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 31,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 30,
                },
            ],
            end: 198,
        },
        line: 32,
        column: 1,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"error('hi', 0)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 36,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "'hi'",
                        ),
                    ],
                ],
            ),
        ],
        line: 32,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"error()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 39,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
        line: 36,
    },
    IfStatement {
        condition: [
            Operator(
                (
                    "not",
                    false,
                ),
            ),
            Ident {
                expr: [
                    Symbol(
                        "_no32",
                    ),
                ],
                line: 43,
            },
        ],
        body: CodeBlock {
            start: 220,
            code: [
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "doit",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"table.unpack({}, 1, n=2^30)\"",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 44,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 44,
                },
            ],
            end: 228,
        },
        next: None,
        line: 45,
        column: 1,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"a=math.sin()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 46,
                        },
                    ],
                ],
            ),
        ],
        line: 45,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"tostring(1)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 47,
                        },
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"tostring()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 47,
                        },
                    ],
                ],
            ),
        ],
        line: 46,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"tonumber()\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 48,
                        },
                    ],
                ],
            ),
        ],
        line: 47,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"repeat until 1; a\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 49,
                        },
                    ],
                ],
            ),
        ],
        line: 48,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"return;;\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 50,
                        },
                    ],
                ],
            ),
        ],
        line: 49,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"assert(false)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 51,
                        },
                    ],
                ],
            ),
        ],
        line: 50,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"assert(nil)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 52,
                        },
                    ],
                ],
            ),
        ],
        line: 51,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"function a (... , ...) end\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 53,
                        },
                    ],
                ],
            ),
        ],
        line: 52,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"function a (, ...) end\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 54,
                        },
                    ],
                ],
            ),
        ],
        line: 53,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"local t={}; t = t[#t] + 1\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 55,
                        },
                    ],
                ],
            ),
        ],
        line: 54,
    },
    Ident {
        expr: [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\n  local a = {4\n\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'}' expected (to close '{' at line 1)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"<eof>\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 55,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=1; bbbb=2; a=math.sin(3)+bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 60,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=1; local a,bbbb=2,3; a = math.sin(1) and bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 65,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a={}; do local a=1 end a:bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"method 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 67,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a={}; a.bbbb(3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'bbbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 68,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "doit",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Symbol(
                                                                    "\"a={13}; local bbbb=1; a[bbbb](3)\"",
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                                line: 70,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"'bbbb'\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 70,
                        },
                    ],
                ],
            ),
        ],
        line: 69,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a={13}; local bbbb=1; a[bbbb](3)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"number\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 70,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=(1)..{}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a table value\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 71,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "aaa",
                    ),
                ],
                line: 72,
            },
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
        line: 74,
        column: 3,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa.bbb:ddd(9)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 74,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local aaa={bbb=1}; aaa.bbb:ddd(9)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 75,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local aaa={bbb={}}; aaa.bbb:ddd(9)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"method 'ddd'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 76,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a,b,c; (function () a = b+1 end)()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"upvalue 'b'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 77,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "doit",
                                ),
                                Call(
                                    [
                                        [
                                            Symbol(
                                                "\"local aaa={bbb={ddd=next}}; aaa.bbb:ddd(nil)\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 79,
                        },
                    ],
                ],
            ),
        ],
        line: 78,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local _ENV = {x={}}; a = a + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'a'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 79,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"b=1; local aaa='a'; x=aaa+b\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"local 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 81,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa={}; x=3/aaa\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 83,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa='2'; b=nil;x=aaa*b\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'b'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 84,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"aaa={}; x=-aaa\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 85,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "doit",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Symbol(
                                                                    "\"aaa={}; x=(aaa or aaa)+(aaa and aaa)\"",
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                                line: 87,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"'aaa'\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 87,
                        },
                    ],
                ],
            ),
        ],
        line: 86,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "doit",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Symbol(
                                                                    "\"aaa={}; (aaa or aaa)()\"",
                                                                ),
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                                line: 88,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"'aaa'\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 88,
                        },
                    ],
                ],
            ),
        ],
        line: 87,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"print(print < 10)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"function\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 88,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"print(print < print)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"two function\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 90,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "_G",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "D",
                    ),
                ],
                line: 91,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "debug",
                        ),
                    ],
                    line: 95,
                },
            ],
        ],
        line: 95,
        column: 5,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\n  -- create light udata\n  local x = D.upvalueid(function () return debug end, 1)\n  D.setuservalue(x, {})\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"light userdata\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 95,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "_G",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "D",
                    ),
                ],
                line: 100,
            },
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
        line: 101,
        column: 5,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"(io.write or print){}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"io.write\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 101,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"(collectgarbage or print){}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"collectgarbage\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 105,
    },
    Variable {
        names: [
            (
                "t",
                false,
            ),
        ],
        values: [
            [
                Table {
                    data: [],
                    line: 109,
                    column: 5,
                },
            ],
        ],
        line: 110,
        column: 0,
    },
    ForLoop {
        iter: "i",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1000",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 494,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "t",
                                ),
                                Symbol(
                                    "[",
                                ),
                                Expr(
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "i",
                                                ),
                                            ],
                                            line: 111,
                                        },
                                    ],
                                ),
                                Symbol(
                                    "]",
                                ),
                            ],
                            line: 111,
                        },
                    ],
                    values: [
                        [
                            Symbol(
                                "\"a = x\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "i",
                                    ),
                                ],
                                line: 111,
                            },
                        ],
                    ],
                    line: 111,
                    column: 8,
                },
            ],
            end: 503,
        },
        line: 112,
        column: 1,
    },
    Variable {
        names: [
            (
                "s",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "table",
                        ),
                        Symbol(
                            ".",
                        ),
                        Symbol(
                            "concat",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "t",
                                            ),
                                        ],
                                        line: 113,
                                    },
                                ],
                                [
                                    Symbol(
                                        "\"; \"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 113,
                },
            ],
        ],
        line: 113,
        column: 11,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "t",
                    ),
                ],
                line: 113,
            },
        ],
        values: [
            [
                Symbol(
                    "nil",
                ),
            ],
        ],
        line: 114,
        column: 3,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 115,
                        },
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; a = bbb + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 114,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local _ENV=_ENV;\"",
                        ),
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 116,
                        },
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; a = bbb + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 115,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 117,
                        },
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; local t = {}; a = t.bbb + 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 116,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 118,
                        },
                        Operator(
                            (
                                "..",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"; local t = {}; t:bbb()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"method 'bbb'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 117,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[aaa=9\nrepeat until 3==3\nlocal x=math.sin(math.cos(3))\nif math.sin(1) == x then return math.sin(1) end   -- tail call\nlocal a,b = 1, {\n  {x='a'..'b'..'c', y='b', z=x},\n  {1,2,3,4,5} or 3+3<=3+3,\n  3+1>3+1,\n  {d = x and aaa[x or y]}}\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'aaa'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 118,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal x,y = {},1\nif math.sin(1) == 0 then return 3 end    -- return\nx.a()]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"field 'a'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 129,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nprefix = nil\ninsert = nil\nwhile 1 do\n  local a\n  if nil then break end\n  insert(prefix, a)\nend]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'insert'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 134,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[  -- tail call\n  return math.sin(\"a\")\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'sin'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 143,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[collectgarbage(\"nooption\")]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"invalid option\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 147,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[x = print .. \"a\"]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"concatenate\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 149,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"getmetatable(io.stdin).__gc()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"no value\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 151,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal Var\nlocal function main()\n  NoSuchName (function() Var=0 end)\nend\nmain()\n]]",
                        ),
                    ],
                    [
                        Symbol(
                            "\"global 'NoSuchName'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 153,
    },
    Ident {
        expr: [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'+'",
                        ),
                    ],
                ],
            ),
        ],
        line: 161,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "a",
                    ),
                ],
                line: 162,
            },
        ],
        values: [
            [
                Table {
                    data: [],
                    line: 164,
                    column: 4,
                },
            ],
        ],
        line: 164,
        column: 5,
    },
    Ident {
        expr: [
            Symbol(
                "setmetatable",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "a",
                                ),
                            ],
                            line: 164,
                        },
                    ],
                    [
                        Table {
                            data: [
                                (
                                    Some(
                                        [
                                            Symbol(
                                                "__index",
                                            ),
                                        ],
                                    ),
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "string",
                                                ),
                                            ],
                                            line: 164,
                                        },
                                    ],
                                ),
                            ],
                            line: 164,
                            column: 14,
                        },
                    ],
                ],
            ),
        ],
        line: 164,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a:sub()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"bad self\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 164,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"string.sub('a', {})\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"#2\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 165,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"('a'):sub{}\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"#1\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 166,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"table.sort({1,2,3}, table.sort)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'table.sort'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 167,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"string.gsub('s', 's', setmetatable)\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"setmetatable'\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 169,
    },
    Function {
        local: false,
        name: [
            Symbol(
                "f",
            ),
        ],
        args: [
            "n",
        ],
        body: CodeBlock {
            start: 651,
            code: [
                Variable {
                    names: [
                        (
                            "c",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "coroutine",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "create",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "f",
                                                        ),
                                                    ],
                                                    line: 176,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 176,
                            },
                        ],
                    ],
                    line: 177,
                    column: 0,
                },
                Variable {
                    names: [
                        (
                            "a",
                            false,
                        ),
                        (
                            "b",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "coroutine",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "resume",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "c",
                                                        ),
                                                    ],
                                                    line: 177,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 177,
                            },
                        ],
                    ],
                    line: 178,
                    column: 0,
                },
                Return(
                    Some(
                        [
                            [
                                Ident {
                                    expr: [
                                        Symbol(
                                            "b",
                                        ),
                                    ],
                                    line: 178,
                                },
                            ],
                        ],
                    ),
                ),
            ],
            end: 674,
        },
        line: 179,
        column: 1,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "f",
                                                    ),
                                                    Call(
                                                        [],
                                                    ),
                                                ],
                                                line: 180,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"C stack overflow\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 180,
                        },
                    ],
                ],
            ),
        ],
        line: 179,
    },
    Ident {
        expr: [
            Symbol(
                "checkmessage",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"coroutine.yield()\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"outside a coroutine\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 180,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "f1",
                    ),
                ],
                line: 182,
            },
        ],
        values: [
            [
                Lambda {
                    args: [],
                    body: CodeBlock {
                        start: 698,
                        code: [
                            Ident {
                                expr: [
                                    Symbol(
                                        "table",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "sort",
                                    ),
                                    Call(
                                        [
                                            [
                                                Table {
                                                    data: [
                                                        (
                                                            None,
                                                            [
                                                                Number(
                                                                    Decimal(
                                                                        Decimal {
                                                                            before_decimal: "1",
                                                                            after_decimal: "",
                                                                        },
                                                                    ),
                                                                ),
                                                            ],
                                                        ),
                                                        (
                                                            None,
                                                            [
                                                                Number(
                                                                    Decimal(
                                                                        Decimal {
                                                                            before_decimal: "2",
                                                                            after_decimal: "",
                                                                        },
                                                                    ),
                                                                ),
                                                            ],
                                                        ),
                                                        (
                                                            None,
                                                            [
                                                                Number(
                                                                    Decimal(
                                                                        Decimal {
                                                                            before_decimal: "3",
                                                                            after_decimal: "",
                                                                        },
                                                                    ),
                                                                ),
                                                            ],
                                                        ),
                                                    ],
                                                    line: 184,
                                                    column: 11,
                                                },
                                            ],
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "coroutine",
                                                        ),
                                                        Symbol(
                                                            ".",
                                                        ),
                                                        Symbol(
                                                            "yield",
                                                        ),
                                                    ],
                                                    line: 184,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 184,
                            },
                        ],
                        end: 715,
                    },
                    line: 184,
                    column: 22,
                },
            ],
        ],
        line: 184,
        column: 22,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "f",
                    ),
                ],
                line: 184,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "coroutine",
                        ),
                        Symbol(
                            ".",
                        ),
                        Symbol(
                            "wrap",
                        ),
                        Call(
                            [
                                [
                                    Lambda {
                                        args: [],
                                        body: CodeBlock {
                                            start: 724,
                                            code: [
                                                Return(
                                                    Some(
                                                        [
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "pcall",
                                                                        ),
                                                                        Call(
                                                                            [
                                                                                [
                                                                                    Ident {
                                                                                        expr: [
                                                                                            Symbol(
                                                                                                "f1",
                                                                                            ),
                                                                                        ],
                                                                                        line: 185,
                                                                                    },
                                                                                ],
                                                                            ],
                                                                        ),
                                                                    ],
                                                                    line: 185,
                                                                },
                                                            ],
                                                        ],
                                                    ),
                                                ),
                                            ],
                                            end: 730,
                                        },
                                        line: 185,
                                        column: 15,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 185,
                },
            ],
        ],
        line: 185,
        column: 16,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "select",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Number(
                                                                    Decimal(
                                                                        Decimal {
                                                                            before_decimal: "2",
                                                                            after_decimal: "",
                                                                        },
                                                                    ),
                                                                ),
                                                            ],
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "f",
                                                                        ),
                                                                        Call(
                                                                            [],
                                                                        ),
                                                                    ],
                                                                    line: 186,
                                                                },
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                                line: 186,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"yield across\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 186,
                        },
                    ],
                ],
            ),
        ],
        line: 185,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "idsize",
                    ),
                ],
                line: 186,
            },
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "60",
                            after_decimal: "",
                        },
                    ),
                ),
                Operator(
                    (
                        "-",
                        true,
                    ),
                ),
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 192,
        column: 0,
    },
    Function {
        local: true,
        name: [
            Symbol(
                "checksize",
            ),
        ],
        args: [
            "source",
        ],
        body: CodeBlock {
            start: 760,
            code: [
                Variable {
                    names: [
                        (
                            "_",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "load",
                                    ),
                                    Call(
                                        [
                                            [
                                                Symbol(
                                                    "\"x\"",
                                                ),
                                            ],
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "source",
                                                        ),
                                                    ],
                                                    line: 194,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 194,
                            },
                        ],
                    ],
                    line: 194,
                    column: 11,
                },
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "msg",
                                ),
                            ],
                            line: 194,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "match",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "msg",
                                                        ),
                                                    ],
                                                    line: 195,
                                                },
                                            ],
                                            [
                                                Symbol(
                                                    "\"^([^:]*):\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                                line: 195,
                            },
                        ],
                    ],
                    line: 195,
                    column: 10,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "msg",
                                            ),
                                            Symbol(
                                                ":",
                                            ),
                                            Symbol(
                                                "len",
                                            ),
                                            Call(
                                                [],
                                            ),
                                        ],
                                        line: 196,
                                    },
                                    Operator(
                                        (
                                            "<=",
                                            true,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "idsize",
                                            ),
                                        ],
                                        line: 196,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 195,
                },
            ],
            end: 792,
        },
        line: 197,
        column: 1,
    },
    ForLoop {
        iter: "i",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "60",
                        after_decimal: "",
                    },
                ),
            ),
            Operator(
                (
                    "-",
                    true,
                ),
            ),
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "10",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "60",
                        after_decimal: "",
                    },
                ),
            ),
            Operator(
                (
                    "+",
                    true,
                ),
            ),
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "10",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 803,
            code: [
                Ident {
                    expr: [
                        Symbol(
                            "checksize",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"@\"",
                                    ),
                                    Operator(
                                        (
                                            "..",
                                            true,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "rep",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"x\"",
                                                        ),
                                                    ],
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "i",
                                                                ),
                                                            ],
                                                            line: 200,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 200,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 200,
                },
                Ident {
                    expr: [
                        Symbol(
                            "checksize",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "rep",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"x\"",
                                                        ),
                                                    ],
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "i",
                                                                ),
                                                            ],
                                                            line: 201,
                                                        },
                                                        Operator(
                                                            (
                                                                "-",
                                                                true,
                                                            ),
                                                        ),
                                                        Number(
                                                            Decimal(
                                                                Decimal {
                                                                    before_decimal: "10",
                                                                    after_decimal: "",
                                                                },
                                                            ),
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 201,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 200,
                },
                Ident {
                    expr: [
                        Symbol(
                            "checksize",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "\"=\"",
                                    ),
                                    Operator(
                                        (
                                            "..",
                                            true,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "rep",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Symbol(
                                                            "\"x\"",
                                                        ),
                                                    ],
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "i",
                                                                ),
                                                            ],
                                                            line: 202,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 202,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 201,
                },
            ],
            end: 843,
        },
        line: 203,
        column: 1,
    },
    Function {
        local: true,
        name: [
            Symbol(
                "lineerror",
            ),
        ],
        args: [
            "s",
            "l",
        ],
        body: CodeBlock {
            start: 851,
            code: [
                Variable {
                    names: [
                        (
                            "err",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "load",
                                                        ),
                                                        Call(
                                                            [
                                                                [
                                                                    Ident {
                                                                        expr: [
                                                                            Symbol(
                                                                                "s",
                                                                            ),
                                                                        ],
                                                                        line: 209,
                                                                    },
                                                                ],
                                                            ],
                                                        ),
                                                    ],
                                                    line: 209,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 209,
                            },
                        ],
                    ],
                    line: 210,
                    column: 0,
                },
                Variable {
                    names: [
                        (
                            "line",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "match",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "msg",
                                                        ),
                                                    ],
                                                    line: 210,
                                                },
                                            ],
                                            [
                                                Symbol(
                                                    "\":(%d+):\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                                line: 210,
                            },
                        ],
                    ],
                    line: 210,
                    column: 11,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Expr(
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "line",
                                                    ),
                                                ],
                                                line: 211,
                                            },
                                            Operator(
                                                (
                                                    "and",
                                                    true,
                                                ),
                                            ),
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "line",
                                                    ),
                                                ],
                                                line: 211,
                                            },
                                            Operator(
                                                (
                                                    "+",
                                                    true,
                                                ),
                                            ),
                                            Number(
                                                Decimal(
                                                    Decimal {
                                                        before_decimal: "0",
                                                        after_decimal: "",
                                                    },
                                                ),
                                            ),
                                        ],
                                    ),
                                    Ident {
                                        expr: [],
                                        line: 211,
                                    },
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "l",
                                            ),
                                        ],
                                        line: 211,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 210,
                },
            ],
            end: 887,
        },
        line: 212,
        column: 1,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"local a\\n for i=1,'a' do \\n print(i) \\n end\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 212,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\\n local a \\n for k,v in 3 \\n do \\n print(k) \\n end\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 214,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\\n\\n for k,v in \\n 3 \\n do \\n print(k) \\n end\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "4",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 215,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"function a.x.y ()\\na=a+1\\nend\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 216,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = \\na\\n+\\n{}\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 217,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = \\n3\\n+\\n(\\n4\\n/\\nprint)\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "6",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 219,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a = \\nprint\\n+\\n(\\n4\\n/\\n7)\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 220,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a\\n=\\n-\\n\\nprint\\n;\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 221,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\na\n(\n23)\n]]",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 223,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal a = {x = 13}\na\n.\nx\n(\n23\n)\n]]",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 229,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        MultilineString(
                            "[[\nlocal a = {x = 13}\na\n.\nx\n(\n23 + a\n)\n]]",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "6",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 239,
    },
    Variable {
        names: [
            (
                "p",
                false,
            ),
        ],
        values: [
            [
                MultilineString(
                    "[[\nfunction g() f() end\nfunction f(x) error('a', X) end\ng()\n]]",
                ),
            ],
        ],
        line: 255,
        column: 1,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "X",
                    ),
                ],
                line: 255,
            },
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "3",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 256,
        column: 4,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident {
                                    expr: [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                    line: 256,
                                },
                            ],
                        ),
                        Ident {
                            expr: [],
                            line: 256,
                        },
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 256,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "X",
                    ),
                ],
                line: 256,
            },
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "0",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 257,
        column: 4,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident {
                                    expr: [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                    line: 257,
                                },
                            ],
                        ),
                        Ident {
                            expr: [],
                            line: 257,
                        },
                    ],
                    [
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
        line: 257,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "X",
                    ),
                ],
                line: 257,
            },
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 258,
        column: 4,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident {
                                    expr: [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                    line: 258,
                                },
                            ],
                        ),
                        Ident {
                            expr: [],
                            line: 258,
                        },
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 258,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "X",
                    ),
                ],
                line: 258,
            },
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "2",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 259,
        column: 4,
    },
    Ident {
        expr: [
            Symbol(
                "lineerror",
            ),
            Call(
                [
                    [
                        Expr(
                            [
                                Ident {
                                    expr: [
                                        Symbol(
                                            "p",
                                        ),
                                    ],
                                    line: 259,
                                },
                            ],
                        ),
                        Ident {
                            expr: [],
                            line: 259,
                        },
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 259,
    },
    IfStatement {
        condition: [
            Operator(
                (
                    "not",
                    false,
                ),
            ),
            Ident {
                expr: [
                    Symbol(
                        "_soft",
                    ),
                ],
                line: 262,
            },
        ],
        body: CodeBlock {
            start: 1009,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "C",
                                ),
                            ],
                            line: 264,
                        },
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "0",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                    line: 265,
                    column: 0,
                },
                Variable {
                    names: [
                        (
                            "l",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "debug",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "getinfo",
                                    ),
                                    Call(
                                        [
                                            [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "1",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                            [
                                                Symbol(
                                                    "\"l\"",
                                                ),
                                            ],
                                        ],
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "currentline",
                                    ),
                                ],
                                line: 265,
                            },
                        ],
                    ],
                    line: 265,
                    column: 14,
                },
                Function {
                    local: false,
                    name: [
                        Symbol(
                            "y",
                        ),
                    ],
                    args: [],
                    body: CodeBlock {
                        start: 21,
                        code: [
                            Alter {
                                names: [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "C",
                                            ),
                                        ],
                                        line: 265,
                                    },
                                ],
                                values: [
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "C",
                                                ),
                                            ],
                                            line: 265,
                                        },
                                        Operator(
                                            (
                                                "+",
                                                true,
                                            ),
                                        ),
                                        Number(
                                            Decimal(
                                                Decimal {
                                                    before_decimal: "1",
                                                    after_decimal: "",
                                                },
                                            ),
                                        ),
                                    ],
                                ],
                                line: 265,
                                column: 6,
                            },
                            Ident {
                                expr: [
                                    Symbol(
                                        "y",
                                    ),
                                    Call(
                                        [],
                                    ),
                                ],
                                line: 265,
                            },
                        ],
                        end: 31,
                    },
                    line: 265,
                    column: 28,
                },
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "checkstackmessage",
                        ),
                    ],
                    args: [
                        "m",
                    ],
                    body: CodeBlock {
                        start: 37,
                        code: [
                            Return(
                                Some(
                                    [
                                        [
                                            Expr(
                                                [
                                                    Ident {
                                                        expr: [
                                                            Symbol(
                                                                "string",
                                                            ),
                                                            Symbol(
                                                                ".",
                                                            ),
                                                            Symbol(
                                                                "find",
                                                            ),
                                                            Call(
                                                                [
                                                                    [
                                                                        Ident {
                                                                            expr: [
                                                                                Symbol(
                                                                                    "m",
                                                                                ),
                                                                            ],
                                                                            line: 268,
                                                                        },
                                                                    ],
                                                                    [
                                                                        Symbol(
                                                                            "\"^.-:%d+: stack overflow\"",
                                                                        ),
                                                                    ],
                                                                ],
                                                            ),
                                                        ],
                                                        line: 268,
                                                    },
                                                ],
                                            ),
                                            Ident {
                                                expr: [],
                                                line: 268,
                                            },
                                        ],
                                    ],
                                ),
                            ),
                        ],
                        end: 49,
                    },
                    line: 269,
                    column: 1,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "checkstackmessage",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "doit",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Symbol(
                                                                                "'y()'",
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                            line: 271,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 271,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 269,
                },
                Ident {
                    expr: [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 271,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "checkstackmessage",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "doit",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Symbol(
                                                                                "'y()'",
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                            line: 273,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 273,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 272,
                },
                Ident {
                    expr: [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 273,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "checkstackmessage",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "doit",
                                                                ),
                                                                Call(
                                                                    [
                                                                        [
                                                                            Symbol(
                                                                                "'y()'",
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ],
                                                            line: 275,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 275,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 274,
                },
                Ident {
                    expr: [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 275,
                },
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "C",
                                ),
                            ],
                            line: 276,
                        },
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "0",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                    line: 281,
                    column: 0,
                },
                Variable {
                    names: [
                        (
                            "l1",
                            false,
                        ),
                    ],
                    values: [],
                    line: 281,
                    column: 2,
                },
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "g",
                        ),
                    ],
                    args: [
                        "x",
                    ],
                    body: CodeBlock {
                        start: 102,
                        code: [
                            Alter {
                                names: [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "l1",
                                            ),
                                        ],
                                        line: 283,
                                    },
                                ],
                                values: [
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "debug",
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "getinfo",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "x",
                                                                    ),
                                                                ],
                                                                line: 283,
                                                            },
                                                        ],
                                                        [
                                                            Symbol(
                                                                "\"l\"",
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "currentline",
                                                ),
                                            ],
                                            line: 283,
                                        },
                                    ],
                                ],
                                line: 283,
                                column: 13,
                            },
                            Ident {
                                expr: [
                                    Symbol(
                                        "y",
                                    ),
                                    Call(
                                        [],
                                    ),
                                ],
                                line: 283,
                            },
                        ],
                        end: 119,
                    },
                    line: 284,
                    column: 1,
                },
                Variable {
                    names: [
                        (
                            "_",
                            false,
                        ),
                        (
                            "stackmsg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "g",
                                                        ),
                                                    ],
                                                    line: 285,
                                                },
                                            ],
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "debug",
                                                        ),
                                                        Symbol(
                                                            ".",
                                                        ),
                                                        Symbol(
                                                            "traceback",
                                                        ),
                                                    ],
                                                    line: 285,
                                                },
                                            ],
                                            [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "1",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                                line: 285,
                            },
                        ],
                    ],
                    line: 285,
                    column: 15,
                },
                Ident {
                    expr: [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 285,
                },
                Variable {
                    names: [
                        (
                            "stack",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Table {
                                data: [],
                                line: 287,
                                column: 5,
                            },
                        ],
                    ],
                    line: 288,
                    column: 0,
                },
                ForFuncLoop {
                    iters: [
                        "line",
                    ],
                    expr: [
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "gmatch",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "stackmsg",
                                                    ),
                                                ],
                                                line: 288,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"[^\\n]*\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 288,
                        },
                    ],
                    stop: None,
                    initial: None,
                    code: CodeBlock {
                        start: 155,
                        code: [
                            Variable {
                                names: [
                                    (
                                        "curr",
                                        false,
                                    ),
                                ],
                                values: [
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "string",
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "match",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "line",
                                                                    ),
                                                                ],
                                                                line: 289,
                                                            },
                                                        ],
                                                        [
                                                            Symbol(
                                                                "\":(%d+):\"",
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                            ],
                                            line: 289,
                                        },
                                    ],
                                ],
                                line: 290,
                                column: 0,
                            },
                            IfStatement {
                                condition: [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "curr",
                                            ),
                                        ],
                                        line: 290,
                                    },
                                ],
                                body: CodeBlock {
                                    start: 14,
                                    code: [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "table",
                                                ),
                                                Symbol(
                                                    ".",
                                                ),
                                                Symbol(
                                                    "insert",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "stack",
                                                                    ),
                                                                ],
                                                                line: 290,
                                                            },
                                                        ],
                                                        [
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "tonumber",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "curr",
                                                                                        ),
                                                                                    ],
                                                                                    line: 290,
                                                                                },
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                                line: 290,
                                                            },
                                                        ],
                                                    ],
                                                ),
                                            ],
                                            line: 290,
                                        },
                                    ],
                                    end: 26,
                                },
                                next: None,
                                line: 290,
                                column: 15,
                            },
                        ],
                        end: 182,
                    },
                    line: 291,
                    column: 1,
                },
                Variable {
                    names: [
                        (
                            "i",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "1",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                    line: 293,
                    column: 0,
                },
                WhileLoop {
                    condition: [
                        Ident {
                            expr: [
                                Symbol(
                                    "stack",
                                ),
                                Symbol(
                                    "[",
                                ),
                                Expr(
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "i",
                                                ),
                                            ],
                                            line: 293,
                                        },
                                    ],
                                ),
                                Symbol(
                                    "]",
                                ),
                            ],
                            line: 293,
                        },
                        Operator(
                            (
                                "~=",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "l1",
                                ),
                            ],
                            line: 293,
                        },
                    ],
                    body: CodeBlock {
                        start: 194,
                        code: [
                            Ident {
                                expr: [
                                    Symbol(
                                        "assert",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "stack",
                                                        ),
                                                        Symbol(
                                                            "[",
                                                        ),
                                                        Expr(
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "i",
                                                                        ),
                                                                    ],
                                                                    line: 294,
                                                                },
                                                            ],
                                                        ),
                                                        Symbol(
                                                            "]",
                                                        ),
                                                    ],
                                                    line: 294,
                                                },
                                                Operator(
                                                    (
                                                        "==",
                                                        true,
                                                    ),
                                                ),
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "l",
                                                        ),
                                                    ],
                                                    line: 294,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 294,
                            },
                            Alter {
                                names: [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "i",
                                            ),
                                        ],
                                        line: 294,
                                    },
                                ],
                                values: [
                                    [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "i",
                                                ),
                                            ],
                                            line: 295,
                                        },
                                        Operator(
                                            (
                                                "+",
                                                true,
                                            ),
                                        ),
                                        Number(
                                            Decimal(
                                                Decimal {
                                                    before_decimal: "1",
                                                    after_decimal: "",
                                                },
                                            ),
                                        ),
                                    ],
                                ],
                                line: 295,
                                column: 5,
                            },
                        ],
                        end: 209,
                    },
                    line: 296,
                    column: 1,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "i",
                                            ),
                                        ],
                                        line: 297,
                                    },
                                    Operator(
                                        (
                                            ">",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "15",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 296,
                },
                Variable {
                    names: [
                        (
                            "res",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "error",
                                                        ),
                                                    ],
                                                    line: 301,
                                                },
                                            ],
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "error",
                                                        ),
                                                    ],
                                                    line: 301,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 301,
                            },
                        ],
                    ],
                    line: 301,
                    column: 11,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "res",
                                            ),
                                        ],
                                        line: 302,
                                    },
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "type",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                            line: 302,
                                                        },
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 302,
                                    },
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Symbol(
                                        "'string'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 301,
                },
                Ident {
                    expr: [
                        Symbol(
                            "print",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'+'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 302,
                },
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "f",
                        ),
                    ],
                    args: [
                        "x",
                    ],
                    body: CodeBlock {
                        start: 248,
                        code: [
                            IfStatement {
                                condition: [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "x",
                                            ),
                                        ],
                                        line: 306,
                                    },
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "0",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                                body: CodeBlock {
                                    start: 5,
                                    code: [
                                        Ident {
                                            expr: [
                                                Symbol(
                                                    "error",
                                                ),
                                                Call(
                                                    [
                                                        [
                                                            Symbol(
                                                                "'a\\n'",
                                                            ),
                                                        ],
                                                    ],
                                                ),
                                            ],
                                            line: 306,
                                        },
                                    ],
                                    end: 10,
                                },
                                next: Some(
                                    IfStatement {
                                        condition: [],
                                        body: CodeBlock {
                                            start: 10,
                                            code: [
                                                Variable {
                                                    names: [
                                                        (
                                                            "aux",
                                                            false,
                                                        ),
                                                    ],
                                                    values: [
                                                        [
                                                            Lambda {
                                                                args: [],
                                                                body: CodeBlock {
                                                                    start: 6,
                                                                    code: [
                                                                        Return(
                                                                            Some(
                                                                                [
                                                                                    [
                                                                                        Ident {
                                                                                            expr: [
                                                                                                Symbol(
                                                                                                    "f",
                                                                                                ),
                                                                                                Call(
                                                                                                    [
                                                                                                        [
                                                                                                            Ident {
                                                                                                                expr: [
                                                                                                                    Symbol(
                                                                                                                        "x",
                                                                                                                    ),
                                                                                                                ],
                                                                                                                line: 308,
                                                                                                            },
                                                                                                            Operator(
                                                                                                                (
                                                                                                                    "-",
                                                                                                                    true,
                                                                                                                ),
                                                                                                            ),
                                                                                                            Number(
                                                                                                                Decimal(
                                                                                                                    Decimal {
                                                                                                                        before_decimal: "1",
                                                                                                                        after_decimal: "",
                                                                                                                    },
                                                                                                                ),
                                                                                                            ),
                                                                                                        ],
                                                                                                    ],
                                                                                                ),
                                                                                            ],
                                                                                            line: 308,
                                                                                        },
                                                                                    ],
                                                                                ],
                                                                            ),
                                                                        ),
                                                                    ],
                                                                    end: 14,
                                                                },
                                                                line: 308,
                                                                column: 14,
                                                            },
                                                        ],
                                                    ],
                                                    line: 309,
                                                    column: 0,
                                                },
                                                Variable {
                                                    names: [
                                                        (
                                                            "a",
                                                            false,
                                                        ),
                                                        (
                                                            "b",
                                                            false,
                                                        ),
                                                    ],
                                                    values: [
                                                        [
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "xpcall",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "aux",
                                                                                        ),
                                                                                    ],
                                                                                    line: 309,
                                                                                },
                                                                            ],
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "aux",
                                                                                        ),
                                                                                    ],
                                                                                    line: 309,
                                                                                },
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                                line: 309,
                                                            },
                                                        ],
                                                    ],
                                                    line: 310,
                                                    column: 0,
                                                },
                                                Return(
                                                    Some(
                                                        [
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "a",
                                                                        ),
                                                                    ],
                                                                    line: 310,
                                                                },
                                                            ],
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "b",
                                                                        ),
                                                                    ],
                                                                    line: 310,
                                                                },
                                                            ],
                                                        ],
                                                    ),
                                                ),
                                            ],
                                            end: 40,
                                        },
                                        next: None,
                                        line: 311,
                                        column: 1,
                                    },
                                ),
                                line: 311,
                                column: 1,
                            },
                        ],
                        end: 289,
                    },
                    line: 312,
                    column: 1,
                },
                Ident {
                    expr: [
                        Symbol(
                            "f",
                        ),
                        Call(
                            [
                                [
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "3",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 312,
                },
                Function {
                    local: true,
                    name: [
                        Symbol(
                            "loop",
                        ),
                    ],
                    args: [
                        "x",
                        "y",
                        "z",
                    ],
                    body: CodeBlock {
                        start: 303,
                        code: [
                            Return(
                                Some(
                                    [
                                        [
                                            Number(
                                                Decimal(
                                                    Decimal {
                                                        before_decimal: "1",
                                                        after_decimal: "",
                                                    },
                                                ),
                                            ),
                                            Operator(
                                                (
                                                    "+",
                                                    true,
                                                ),
                                            ),
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "loop",
                                                    ),
                                                    Call(
                                                        [
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "x",
                                                                        ),
                                                                    ],
                                                                    line: 315,
                                                                },
                                                            ],
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "y",
                                                                        ),
                                                                    ],
                                                                    line: 315,
                                                                },
                                                            ],
                                                            [
                                                                Ident {
                                                                    expr: [
                                                                        Symbol(
                                                                            "z",
                                                                        ),
                                                                    ],
                                                                    line: 315,
                                                                },
                                                            ],
                                                        ],
                                                    ),
                                                ],
                                                line: 315,
                                            },
                                        ],
                                    ],
                                ),
                            ),
                        ],
                        end: 315,
                    },
                    line: 315,
                    column: 22,
                },
                Variable {
                    names: [
                        (
                            "res",
                            false,
                        ),
                        (
                            "msg",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "xpcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "loop",
                                                        ),
                                                    ],
                                                    line: 317,
                                                },
                                            ],
                                            [
                                                Lambda {
                                                    args: [
                                                        "m",
                                                    ],
                                                    body: CodeBlock {
                                                        start: 328,
                                                        code: [
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "assert",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "string",
                                                                                        ),
                                                                                        Symbol(
                                                                                            ".",
                                                                                        ),
                                                                                        Symbol(
                                                                                            "find",
                                                                                        ),
                                                                                        Call(
                                                                                            [
                                                                                                [
                                                                                                    Ident {
                                                                                                        expr: [
                                                                                                            Symbol(
                                                                                                                "m",
                                                                                                            ),
                                                                                                        ],
                                                                                                        line: 318,
                                                                                                    },
                                                                                                ],
                                                                                                [
                                                                                                    Symbol(
                                                                                                        "\"stack overflow\"",
                                                                                                    ),
                                                                                                ],
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                    line: 318,
                                                                                },
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                                line: 318,
                                                            },
                                                            Variable {
                                                                names: [
                                                                    (
                                                                        "res",
                                                                        false,
                                                                    ),
                                                                    (
                                                                        "msg",
                                                                        false,
                                                                    ),
                                                                ],
                                                                values: [
                                                                    [
                                                                        Ident {
                                                                            expr: [
                                                                                Symbol(
                                                                                    "pcall",
                                                                                ),
                                                                                Call(
                                                                                    [
                                                                                        [
                                                                                            Ident {
                                                                                                expr: [
                                                                                                    Symbol(
                                                                                                        "loop",
                                                                                                    ),
                                                                                                ],
                                                                                                line: 319,
                                                                                            },
                                                                                        ],
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                            line: 319,
                                                                        },
                                                                    ],
                                                                ],
                                                                line: 319,
                                                                column: 9,
                                                            },
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "assert",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "string",
                                                                                        ),
                                                                                        Symbol(
                                                                                            ".",
                                                                                        ),
                                                                                        Symbol(
                                                                                            "find",
                                                                                        ),
                                                                                        Call(
                                                                                            [
                                                                                                [
                                                                                                    Ident {
                                                                                                        expr: [
                                                                                                            Symbol(
                                                                                                                "msg",
                                                                                                            ),
                                                                                                        ],
                                                                                                        line: 320,
                                                                                                    },
                                                                                                ],
                                                                                                [
                                                                                                    Symbol(
                                                                                                        "\"error handling\"",
                                                                                                    ),
                                                                                                ],
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                    line: 320,
                                                                                },
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                                line: 319,
                                                            },
                                                            Ident {
                                                                expr: [
                                                                    Symbol(
                                                                        "assert",
                                                                    ),
                                                                    Call(
                                                                        [
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "math",
                                                                                        ),
                                                                                        Symbol(
                                                                                            ".",
                                                                                        ),
                                                                                        Symbol(
                                                                                            "sin",
                                                                                        ),
                                                                                        Call(
                                                                                            [
                                                                                                [
                                                                                                    Number(
                                                                                                        Decimal(
                                                                                                            Decimal {
                                                                                                                before_decimal: "0",
                                                                                                                after_decimal: "",
                                                                                                            },
                                                                                                        ),
                                                                                                    ),
                                                                                                ],
                                                                                            ],
                                                                                        ),
                                                                                    ],
                                                                                    line: 321,
                                                                                },
                                                                                Operator(
                                                                                    (
                                                                                        "==",
                                                                                        true,
                                                                                    ),
                                                                                ),
                                                                                Number(
                                                                                    Decimal(
                                                                                        Decimal {
                                                                                            before_decimal: "0",
                                                                                            after_decimal: "",
                                                                                        },
                                                                                    ),
                                                                                ),
                                                                            ],
                                                                        ],
                                                                    ),
                                                                ],
                                                                line: 320,
                                                            },
                                                            Return(
                                                                Some(
                                                                    [
                                                                        [
                                                                            Number(
                                                                                Decimal(
                                                                                    Decimal {
                                                                                        before_decimal: "15",
                                                                                        after_decimal: "",
                                                                                    },
                                                                                ),
                                                                            ),
                                                                        ],
                                                                    ],
                                                                ),
                                                            ),
                                                        ],
                                                        end: 373,
                                                    },
                                                    line: 323,
                                                    column: 1,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 317,
                            },
                        ],
                    ],
                    line: 323,
                    column: 2,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "msg",
                                            ),
                                        ],
                                        line: 324,
                                    },
                                    Operator(
                                        (
                                            "==",
                                            true,
                                        ),
                                    ),
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "15",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 323,
                },
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "res",
                                ),
                            ],
                            line: 324,
                        },
                        Ident {
                            expr: [
                                Symbol(
                                    "msg",
                                ),
                            ],
                            line: 326,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "pcall",
                                    ),
                                    Call(
                                        [
                                            [
                                                Lambda {
                                                    args: [],
                                                    body: CodeBlock {
                                                        start: 389,
                                                        code: [
                                                            ForLoop {
                                                                iter: "i",
                                                                start: [
                                                                    Number(
                                                                        Decimal(
                                                                            Decimal {
                                                                                before_decimal: "999900",
                                                                                after_decimal: "",
                                                                            },
                                                                        ),
                                                                    ),
                                                                ],
                                                                end: [
                                                                    Number(
                                                                        Decimal(
                                                                            Decimal {
                                                                                before_decimal: "1000000",
                                                                                after_decimal: "",
                                                                            },
                                                                        ),
                                                                    ),
                                                                ],
                                                                step: Some(
                                                                    [
                                                                        Number(
                                                                            Decimal(
                                                                                Decimal {
                                                                                    before_decimal: "1",
                                                                                    after_decimal: "",
                                                                                },
                                                                            ),
                                                                        ),
                                                                    ],
                                                                ),
                                                                code: CodeBlock {
                                                                    start: 9,
                                                                    code: [
                                                                        Ident {
                                                                            expr: [
                                                                                Symbol(
                                                                                    "table",
                                                                                ),
                                                                                Symbol(
                                                                                    ".",
                                                                                ),
                                                                                Symbol(
                                                                                    "unpack",
                                                                                ),
                                                                                Call(
                                                                                    [
                                                                                        [
                                                                                            Table {
                                                                                                data: [],
                                                                                                line: 327,
                                                                                                column: 6,
                                                                                            },
                                                                                        ],
                                                                                        [
                                                                                            Number(
                                                                                                Decimal(
                                                                                                    Decimal {
                                                                                                        before_decimal: "1",
                                                                                                        after_decimal: "",
                                                                                                    },
                                                                                                ),
                                                                                            ),
                                                                                        ],
                                                                                        [
                                                                                            Ident {
                                                                                                expr: [
                                                                                                    Symbol(
                                                                                                        "i",
                                                                                                    ),
                                                                                                ],
                                                                                                line: 327,
                                                                                            },
                                                                                        ],
                                                                                    ],
                                                                                ),
                                                                            ],
                                                                            line: 327,
                                                                        },
                                                                    ],
                                                                    end: 21,
                                                                },
                                                                line: 327,
                                                                column: 21,
                                                            },
                                                        ],
                                                        end: 411,
                                                    },
                                                    line: 328,
                                                    column: 1,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 326,
                            },
                        ],
                    ],
                    line: 328,
                    column: 2,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "msg",
                                                                ),
                                                            ],
                                                            line: 329,
                                                        },
                                                    ],
                                                    [
                                                        Symbol(
                                                            "\"too many results\"",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 329,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 328,
                },
            ],
            end: 1433,
        },
        next: None,
        line: 331,
        column: 1,
    },
    Function {
        local: false,
        name: [
            Symbol(
                "f",
            ),
        ],
        args: [],
        body: CodeBlock {
            start: 1437,
            code: [
                Ident {
                    expr: [
                        Symbol(
                            "error",
                        ),
                        Call(
                            [
                                [
                                    Table {
                                        data: [
                                            (
                                                Some(
                                                    [
                                                        Symbol(
                                                            "msg",
                                                        ),
                                                    ],
                                                ),
                                                [
                                                    Symbol(
                                                        "'x'",
                                                    ),
                                                ],
                                            ),
                                        ],
                                        line: 335,
                                        column: 6,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 335,
                },
            ],
            end: 1444,
        },
        line: 335,
        column: 11,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "res",
                    ),
                ],
                line: 335,
            },
            Ident {
                expr: [
                    Symbol(
                        "msg",
                    ),
                ],
                line: 336,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "xpcall",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "f",
                                            ),
                                        ],
                                        line: 336,
                                    },
                                ],
                                [
                                    Lambda {
                                        args: [
                                            "r",
                                        ],
                                        body: CodeBlock {
                                            start: 1456,
                                            code: [
                                                Return(
                                                    Some(
                                                        [
                                                            [
                                                                Table {
                                                                    data: [
                                                                        (
                                                                            Some(
                                                                                [
                                                                                    Symbol(
                                                                                        "msg",
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                            [
                                                                                Ident {
                                                                                    expr: [
                                                                                        Symbol(
                                                                                            "r",
                                                                                        ),
                                                                                        Symbol(
                                                                                            ".",
                                                                                        ),
                                                                                        Symbol(
                                                                                            "msg",
                                                                                        ),
                                                                                    ],
                                                                                    line: 336,
                                                                                },
                                                                                Operator(
                                                                                    (
                                                                                        "..",
                                                                                        true,
                                                                                    ),
                                                                                ),
                                                                                Symbol(
                                                                                    "'y'",
                                                                                ),
                                                                            ],
                                                                        ),
                                                                    ],
                                                                    line: 336,
                                                                    column: 10,
                                                                },
                                                            ],
                                                        ],
                                                    ),
                                                ),
                                            ],
                                            end: 1467,
                                        },
                                        line: 336,
                                        column: 23,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 336,
                },
            ],
        ],
        line: 336,
        column: 24,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "msg",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "msg",
                                ),
                            ],
                            line: 337,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "'xy'",
                        ),
                    ],
                ],
            ),
        ],
        line: 336,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "a",
                    ),
                ],
                line: 337,
            },
            Ident {
                expr: [
                    Symbol(
                        "b",
                    ),
                ],
                line: 340,
            },
            Ident {
                expr: [
                    Symbol(
                        "c",
                    ),
                ],
                line: 340,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "xpcall",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                        ],
                                        line: 340,
                                    },
                                ],
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "error",
                                            ),
                                        ],
                                        line: 340,
                                    },
                                ],
                                [
                                    Symbol(
                                        "\"alo\"",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"al\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 340,
                },
            ],
        ],
        line: 340,
        column: 18,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "a",
                                ),
                            ],
                            line: 341,
                        },
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "b",
                                ),
                            ],
                            line: 341,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "c",
                                ),
                            ],
                            line: 341,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "2",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 340,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "a",
                    ),
                ],
                line: 341,
            },
            Ident {
                expr: [
                    Symbol(
                        "b",
                    ),
                ],
                line: 342,
            },
            Ident {
                expr: [
                    Symbol(
                        "c",
                    ),
                ],
                line: 342,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "xpcall",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                        ],
                                        line: 342,
                                    },
                                ],
                                [
                                    Lambda {
                                        args: [
                                            "x",
                                        ],
                                        body: CodeBlock {
                                            start: 1522,
                                            code: [
                                                Return(
                                                    Some(
                                                        [
                                                            [
                                                                Table {
                                                                    data: [],
                                                                    line: 342,
                                                                    column: 3,
                                                                },
                                                            ],
                                                        ],
                                                    ),
                                                ),
                                            ],
                                            end: 1526,
                                        },
                                        line: 342,
                                        column: 20,
                                    },
                                ],
                                [
                                    Symbol(
                                        "true",
                                    ),
                                ],
                                [
                                    Symbol(
                                        "\"al\"",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 342,
                },
            ],
        ],
        line: 342,
        column: 25,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "a",
                                ),
                            ],
                            line: 343,
                        },
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "type",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                                line: 343,
                                            },
                                        ],
                                    ],
                                ),
                            ],
                            line: 343,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "\"table\"",
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "c",
                                ),
                            ],
                            line: 343,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
        line: 342,
    },
    Ident {
        expr: [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'+'",
                        ),
                    ],
                ],
            ),
        ],
        line: 343,
    },
    Ident {
        expr: [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"syntax error\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"error\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 345,
    },
    Ident {
        expr: [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"1.000\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"1.000\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 346,
    },
    Ident {
        expr: [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"[[a]]\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"[[a]]\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 347,
    },
    Ident {
        expr: [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"'aa'\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"'aa'\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 348,
    },
    Ident {
        expr: [
            Symbol(
                "checksyntax",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\\255a = 1\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"char(255)\"",
                        ),
                    ],
                    [
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "1",
                                    after_decimal: "",
                                },
                            ),
                        ),
                    ],
                ],
            ),
        ],
        line: 349,
    },
    Ident {
        expr: [
            Symbol(
                "doit",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'I = load(\"a=9+\"); a=3'",
                        ),
                    ],
                ],
            ),
        ],
        line: 352,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "a",
                                ),
                            ],
                            line: 355,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "3",
                                    after_decimal: "",
                                },
                            ),
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "I",
                                ),
                            ],
                            line: 355,
                        },
                        Operator(
                            (
                                "==",
                                true,
                            ),
                        ),
                        Symbol(
                            "nil",
                        ),
                    ],
                ],
            ),
        ],
        line: 354,
    },
    Ident {
        expr: [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'+'",
                        ),
                    ],
                ],
            ),
        ],
        line: 355,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "lim",
                    ),
                ],
                line: 356,
            },
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1000",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 359,
        column: 0,
    },
    IfStatement {
        condition: [
            Ident {
                expr: [
                    Symbol(
                        "_soft",
                    ),
                ],
                line: 359,
            },
        ],
        body: CodeBlock {
            start: 1625,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "lim",
                                ),
                            ],
                            line: 359,
                        },
                    ],
                    values: [
                        [
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "100",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                    line: 359,
                    column: 3,
                },
            ],
            end: 1629,
        },
        next: None,
        line: 359,
        column: 7,
    },
    ForLoop {
        iter: "i",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident {
                expr: [
                    Symbol(
                        "lim",
                    ),
                ],
                line: 360,
            },
        ],
        step: None,
        code: CodeBlock {
            start: 1636,
            code: [
                Ident {
                    expr: [
                        Symbol(
                            "doit",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'a = '",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 361,
                },
                Ident {
                    expr: [
                        Symbol(
                            "doit",
                        ),
                        Call(
                            [
                                [
                                    Symbol(
                                        "'a = 4+nil'",
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 361,
                },
            ],
            end: 1645,
        },
        line: 363,
        column: 1,
    },
    Function {
        local: true,
        name: [
            Symbol(
                "testrep",
            ),
        ],
        args: [
            "init",
            "rep",
        ],
        body: CodeBlock {
            start: 1653,
            code: [
                Variable {
                    names: [
                        (
                            "s",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Symbol(
                                "\"local a; \"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "init",
                                    ),
                                ],
                                line: 368,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "string",
                                    ),
                                    Symbol(
                                        ".",
                                    ),
                                    Symbol(
                                        "rep",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "rep",
                                                        ),
                                                    ],
                                                    line: 368,
                                                },
                                            ],
                                            [
                                                Number(
                                                    Decimal(
                                                        Decimal {
                                                            before_decimal: "400",
                                                            after_decimal: "",
                                                        },
                                                    ),
                                                ),
                                            ],
                                        ],
                                    ),
                                ],
                                line: 368,
                            },
                        ],
                    ],
                    line: 369,
                    column: 0,
                },
                Variable {
                    names: [
                        (
                            "a",
                            false,
                        ),
                        (
                            "b",
                            false,
                        ),
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "load",
                                    ),
                                    Call(
                                        [
                                            [
                                                Ident {
                                                    expr: [
                                                        Symbol(
                                                            "s",
                                                        ),
                                                    ],
                                                    line: 369,
                                                },
                                            ],
                                        ],
                                    ),
                                ],
                                line: 369,
                            },
                        ],
                    ],
                    line: 369,
                    column: 9,
                },
                Ident {
                    expr: [
                        Symbol(
                            "assert",
                        ),
                        Call(
                            [
                                [
                                    Operator(
                                        (
                                            "not",
                                            false,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "a",
                                            ),
                                        ],
                                        line: 370,
                                    },
                                    Operator(
                                        (
                                            "and",
                                            true,
                                        ),
                                    ),
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "string",
                                            ),
                                            Symbol(
                                                ".",
                                            ),
                                            Symbol(
                                                "find",
                                            ),
                                            Call(
                                                [
                                                    [
                                                        Ident {
                                                            expr: [
                                                                Symbol(
                                                                    "b",
                                                                ),
                                                            ],
                                                            line: 370,
                                                        },
                                                    ],
                                                    [
                                                        Symbol(
                                                            "\"levels\"",
                                                        ),
                                                    ],
                                                ],
                                            ),
                                        ],
                                        line: 370,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 369,
                },
            ],
            end: 1692,
        },
        line: 371,
        column: 1,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"{\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 371,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"(\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 372,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a(\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 373,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"do \"",
                        ),
                    ],
                ],
            ),
        ],
        line: 374,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"while a do \"",
                        ),
                    ],
                ],
            ),
        ],
        line: 375,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"if a then else \"",
                        ),
                    ],
                ],
            ),
        ],
        line: 376,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"function foo () \"",
                        ),
                    ],
                ],
            ),
        ],
        line: 377,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a..\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 378,
    },
    Ident {
        expr: [
            Symbol(
                "testrep",
            ),
            Call(
                [
                    [
                        Symbol(
                            "\"a=\"",
                        ),
                    ],
                    [
                        Symbol(
                            "\"a^\"",
                        ),
                    ],
                ],
            ),
        ],
        line: 379,
    },
    Variable {
        names: [
            (
                "s",
                false,
            ),
        ],
        values: [
            [
                Expr(
                    [
                        Symbol(
                            "\"a,\"",
                        ),
                    ],
                ),
                Ident {
                    expr: [
                        Symbol(
                            ":",
                        ),
                        Symbol(
                            "rep",
                        ),
                        Call(
                            [
                                [
                                    Number(
                                        Decimal(
                                            Decimal {
                                                before_decimal: "200",
                                                after_decimal: "",
                                            },
                                        ),
                                    ),
                                ],
                            ],
                        ),
                    ],
                    line: 382,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"a=nil\"",
                ),
            ],
        ],
        line: 383,
        column: 0,
    },
    Variable {
        names: [
            (
                "a",
                false,
            ),
            (
                "b",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "load",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "s",
                                            ),
                                        ],
                                        line: 383,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 383,
                },
            ],
        ],
        line: 383,
        column: 9,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Operator(
                            (
                                "not",
                                false,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "a",
                                ),
                            ],
                            line: 384,
                        },
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                                line: 384,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"levels\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 384,
                        },
                    ],
                ],
            ),
        ],
        line: 383,
    },
    Variable {
        names: [
            (
                "lim",
                false,
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "127",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 390,
        column: 0,
    },
    Variable {
        names: [
            (
                "s",
                false,
            ),
        ],
        values: [
            [
                Symbol(
                    "\"local function fooA ()\\n  local \"",
                ),
            ],
        ],
        line: 391,
        column: 0,
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident {
                expr: [
                    Symbol(
                        "lim",
                    ),
                ],
                line: 391,
            },
        ],
        step: None,
        code: CodeBlock {
            start: 1797,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 392,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                                line: 392,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"a\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                                line: 392,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\", \"",
                            ),
                        ],
                    ],
                    line: 392,
                    column: 9,
                },
            ],
            end: 1807,
        },
        line: 393,
        column: 1,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 393,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "s",
                        ),
                    ],
                    line: 394,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"b,c\\n\"",
                ),
            ],
        ],
        line: 394,
        column: 5,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 394,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "s",
                        ),
                    ],
                    line: 395,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"local function fooB ()\\n  local \"",
                ),
            ],
        ],
        line: 396,
        column: 0,
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident {
                expr: [
                    Symbol(
                        "lim",
                    ),
                ],
                line: 396,
            },
        ],
        step: None,
        code: CodeBlock {
            start: 1824,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 397,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                                line: 397,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"b\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                                line: 397,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\", \"",
                            ),
                        ],
                    ],
                    line: 397,
                    column: 9,
                },
            ],
            end: 1834,
        },
        line: 398,
        column: 1,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 398,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "s",
                        ),
                    ],
                    line: 399,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"b\\n\"",
                ),
            ],
        ],
        line: 399,
        column: 5,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 399,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "s",
                        ),
                    ],
                    line: 400,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"function fooC () return b+c\"",
                ),
            ],
        ],
        line: 401,
        column: 0,
    },
    Variable {
        names: [
            (
                "c",
                false,
            ),
        ],
        values: [
            [
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "1",
                            after_decimal: "",
                        },
                    ),
                ),
                Operator(
                    (
                        "+",
                        true,
                    ),
                ),
                Number(
                    Decimal(
                        Decimal {
                            before_decimal: "2",
                            after_decimal: "",
                        },
                    ),
                ),
            ],
        ],
        line: 402,
        column: 0,
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Ident {
                expr: [
                    Symbol(
                        "lim",
                    ),
                ],
                line: 402,
            },
        ],
        step: None,
        code: CodeBlock {
            start: 1857,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 403,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                                line: 403,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"+a\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                                line: 403,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"+b\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                                line: 403,
                            },
                        ],
                    ],
                    line: 403,
                    column: 11,
                },
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "c",
                                ),
                            ],
                            line: 403,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "c",
                                    ),
                                ],
                                line: 404,
                            },
                            Operator(
                                (
                                    "+",
                                    true,
                                ),
                            ),
                            Number(
                                Decimal(
                                    Decimal {
                                        before_decimal: "2",
                                        after_decimal: "",
                                    },
                                ),
                            ),
                        ],
                    ],
                    line: 404,
                    column: 5,
                },
            ],
            end: 1874,
        },
        line: 405,
        column: 1,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 405,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "s",
                        ),
                    ],
                    line: 406,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"\\nend  end end\"",
                ),
            ],
        ],
        line: 407,
        column: 0,
    },
    Variable {
        names: [
            (
                "a",
                false,
            ),
            (
                "b",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "load",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "s",
                                            ),
                                        ],
                                        line: 407,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 407,
                },
            ],
        ],
        line: 407,
        column: 9,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "c",
                                ),
                            ],
                            line: 408,
                        },
                        Operator(
                            (
                                ">",
                                true,
                            ),
                        ),
                        Number(
                            Decimal(
                                Decimal {
                                    before_decimal: "255",
                                    after_decimal: "",
                                },
                            ),
                        ),
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                                line: 408,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"too many upvalues\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 408,
                        },
                        Operator(
                            (
                                "and",
                                true,
                            ),
                        ),
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                                line: 409,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"line 5\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 408,
                        },
                    ],
                ],
            ),
        ],
        line: 407,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 409,
            },
        ],
        values: [
            [
                Symbol(
                    "\"\\nfunction foo ()\\n  local \"",
                ),
            ],
        ],
        line: 413,
        column: 0,
    },
    ForLoop {
        iter: "j",
        start: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "1",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        end: [
            Number(
                Decimal(
                    Decimal {
                        before_decimal: "300",
                        after_decimal: "",
                    },
                ),
            ),
        ],
        step: None,
        code: CodeBlock {
            start: 1922,
            code: [
                Alter {
                    names: [
                        Ident {
                            expr: [
                                Symbol(
                                    "s",
                                ),
                            ],
                            line: 414,
                        },
                    ],
                    values: [
                        [
                            Ident {
                                expr: [
                                    Symbol(
                                        "s",
                                    ),
                                ],
                                line: 414,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\"a\"",
                            ),
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Ident {
                                expr: [
                                    Symbol(
                                        "j",
                                    ),
                                ],
                                line: 414,
                            },
                            Operator(
                                (
                                    "..",
                                    true,
                                ),
                            ),
                            Symbol(
                                "\", \"",
                            ),
                        ],
                    ],
                    line: 414,
                    column: 9,
                },
            ],
            end: 1932,
        },
        line: 415,
        column: 1,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "s",
                    ),
                ],
                line: 415,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "s",
                        ),
                    ],
                    line: 416,
                },
                Operator(
                    (
                        "..",
                        true,
                    ),
                ),
                Symbol(
                    "\"b\\n\"",
                ),
            ],
        ],
        line: 417,
        column: 0,
    },
    Variable {
        names: [
            (
                "a",
                false,
            ),
            (
                "b",
                false,
            ),
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "load",
                        ),
                        Call(
                            [
                                [
                                    Ident {
                                        expr: [
                                            Symbol(
                                                "s",
                                            ),
                                        ],
                                        line: 417,
                                    },
                                ],
                            ],
                        ),
                    ],
                    line: 417,
                },
            ],
        ],
        line: 417,
        column: 9,
    },
    Ident {
        expr: [
            Symbol(
                "assert",
            ),
            Call(
                [
                    [
                        Ident {
                            expr: [
                                Symbol(
                                    "string",
                                ),
                                Symbol(
                                    ".",
                                ),
                                Symbol(
                                    "find",
                                ),
                                Call(
                                    [
                                        [
                                            Ident {
                                                expr: [
                                                    Symbol(
                                                        "b",
                                                    ),
                                                ],
                                                line: 418,
                                            },
                                        ],
                                        [
                                            Symbol(
                                                "\"line 2\"",
                                            ),
                                        ],
                                    ],
                                ),
                            ],
                            line: 418,
                        },
                    ],
                ],
            ),
        ],
        line: 417,
    },
    Alter {
        names: [
            Ident {
                expr: [
                    Symbol(
                        "mt",
                    ),
                    Symbol(
                        ".",
                    ),
                    Symbol(
                        "__index",
                    ),
                ],
                line: 418,
            },
        ],
        values: [
            [
                Ident {
                    expr: [
                        Symbol(
                            "oldmm",
                        ),
                    ],
                    line: 420,
                },
            ],
        ],
        line: 420,
        column: 5,
    },
    Ident {
        expr: [
            Symbol(
                "print",
            ),
            Call(
                [
                    [
                        Symbol(
                            "'OK'",
                        ),
                    ],
                ],
            ),
        ],
        line: 420,
    },
]
